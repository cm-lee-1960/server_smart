{% extends "analysis/base.html" %}
{% load static %}
{% block extra-style %}


<!-- 부트스트랩 -->
<link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/sticky-footer-navbar.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<!-- CSS,JS 호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/A4.css" %}">

<!-- CSS호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/report.css" %}">


<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">


<style>

#btnzone{
	border-radius:0px 0px 10px 10px;
	right:100px; 
	border: 1px solid rgba(183, 180, 180, 0.839); 
	background-color: white; 
	width:350px; 
	text-align:center; 
	position:fixed; 
	margin-top:-15px; 
	padding:5px; 
	z-index:10; 
	box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
} 
button{
	display:inline;
	margin:2px 5px;
}
</style>

<!-- 테스트사이드바 -->
<style>

	.wrapper {
		display: flex;
		align-items: stretch;
		position:fixed;
	}
	
	#sidebar {
		min-width: 250px;
		max-width: 250px;
		min-height: 100vh;
		
	}
	
	#sidebar.active {
		margin-left: -250px;
	}
	a[data-toggle="collapse"] {
		position: relative;
	}
	
	.dropdown-toggle::after {
		display: block;
		position: absolute;
		top: 50%;
		right: 20px;
		transform: translateY(-50%);
	}
	@media (max-width: 768px) {
		#sidebar {
			margin-left: -250px;
		}
		#sidebar.active {
			margin-left: 0;
		}
	}
	/* @import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"; */
	
	
	body {
		font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
		background: #fafafa;
	}
	
	/* p {
		font-family: 'Poppins', sans-serif;
		font-size: 1.1em;
		font-weight: 300;
		line-height: 1.7em;
		color: #999;
	} */
	
	a, a:hover, a:focus {
		color: inherit;
		text-decoration: none;
		transition: all 0.3s;
	}
	
	#sidebar {
		/* don't forget to add all the previously mentioned styles here too */
		background: rgb(164, 164, 164);
		color: #fff;
		transition: all 0.3s;
	}
	
	#sidebar .sidebar-header {
		padding: 10px;
		background: #343a40;
	}
	
	#sidebar ul.components {
		padding: 20px 0;
		/* border-bottom: 1px solid #47748b; */
	}
	
	#sidebar ul p {
		color: #fff;
		padding: 10px;
	}
	
	#sidebar ul li a {
		padding: 10px;
		font-size: 1.1em;
		display: block;
	}
	#sidebar ul li a:hover {
		color: #8d8e93;
		background: #fff;
	}
	
	#sidebar ul li.active > a, a[aria-expanded="true"] {
		color: #fff;
		background: rgb(164, 164, 164);
	}
	ul ul a {
		font-size: 0.9em !important;
		padding-left: 30px !important;
		background: grey;
	}

	.bg-dark{
	background-color: #343a40 !important;
 	}

	.form-control{
		display: inline;
	}

	</style>
	
{% endblock %}
{% block contents %}

<body>
	<!-- 메인화면 -->
<div style="display:flex; flex-flow: row nowrap;">
	
<!--  사이드바 -->
<div class="wrapper">
    
	<!-- Sidebar -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <h2>일일보고</h2>
			<div id="content" style="height:10px; width:10px; display:inline-block; margin-left:130px">

				<nav class="navbar navbar-expand-lg">
					<div class="container-fluid">
			
						<button type="button" id="sidebarCollapse" class="btn btn-secondary">
							<div id="outdentsidebar">
								<i class="fas fa-outdent"></i>
							</div>
		
							<div id="indentsidebar" style="display:none;">
								<i  class="fas fa-indent" ></i>
							</div>
							
							<span></span>
						</button>
					
					</div>
				</nav>
				<!-- <div id = checkbox style="z-index: 3; position:fixed; top :150px; padding:5px;border: 1px solid rgba(183, 180, 180, 0.839);border-radius:10px;color:grey;background-color: white;display:none; " >
					<input type="checkbox" name="meastitle" id="meas1" value="meassituation" style="color:grey;background-color: white;"checked/> 측정현황
					<br>
					<input type="checkbox" name="meastitle" id="meas11" value="meassituation5G"style="color:grey;" checked/> 5G
					<br>
					<input type="checkbox" name="meastitle" id="meas12" value="meassituationLTE"style="color:grey;" checked/> LTE
					<br>
					<input type="checkbox" name="meastitle" id="meas13" value="meassituationWiFi"style="color:grey;" checked/> WiFi
					<br>
					<input type="checkbox" name="meastitle" id="meas14" value="meassituationweak"style="color:grey;" checked/> 품질취약지역
					<br>
					<input type="checkbox" name="meastitle" id="meas2" value="measresult"style="color:grey;" checked/> 측정결과
					<br>
					<input type="checkbox" name="meastitle" id="meas21" value="measresult5G"style="color:grey;" checked/> 5G
					<br>
					<input type="checkbox" name="meastitle" id="meas22" value="measresultLTE"style="color:grey;background-color: white;" checked/> LTE
					<br>
					<input type="checkbox" name="meastitle" id="meas23" value="measresultWiFi" checked/> WiFi
					<br>
					<input type="checkbox" name="meastitle" id="meas24" value="measresultpost5G" checked/> 사후측정5G
					<br>
					<input type="checkbox" name="meastitle" id="meas25" value="measresultpostLTE" checked/> 사후측정LTE
					<br>
					<input type="checkbox" name="meastitle" id="meas3" value="measplus" /> 추가사항
				</div> -->
			
			</div>
        </div>

        <ul class="list-unstyled components">
            <li>
                <a href="{% url 'analysis:report' %}">일일보고</a>
            </li>
			<!-- <li>
                <a href="http://127.0.0.1:8000/smart/analysis/report/list/">일일보고 목록</a>
            </li> -->
			<li class="active">
                <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">일일보고 관리</a>
                <ul class="collapse list-unstyled" id="homeSubmenu">
                    <!-- <li>
                        <a href="{% url 'analysis:report_measplan' %}">측정대상등록</a>
                    </li> -->
                    <li>
                        <a href="{% url 'analysis:report_measresult' %}">측정완료현황</a>
                    </li>
                    <li>
                        <a href="{% url 'analysis:report_postmeas' %}">사후측정등록</a>
                    </li>
					<li>
                        <a href="../report/report_admin/">일일보고 관리자페이지</a>
                    </li>
                </ul>
            </li>
        
        </ul>
    </nav>
	
	

</div>
<div id="blank" style="width:250px;">

		
</div>


	<div id="show" style="width:90%">
		<div id = 'btnzone'> 
			<!-- 테스트 -->
			<form method="get" action="" class="form" id="datesearch">
				<div class="mt-1" style="display:block">
					<input style="height: 24px; width:160px; margin: 0 auto;" type="date" class="form-control" name="reportdate" id ="reportdate">
				</div>
			</form>
			<!-- <form method="get" action="" class="form" id="planyearsearch">
                <select class="form-select form-select-sm mb-2" aria-label=".form-select-sm select example" style="width:130px;" name="planYear" id="id_yy">
                <option disabled id = measyear>측정년도</option>
                <option value="2019">2019년</option>
                <option value="2020"> 2020년</option>
                <option value="2021"> 2021년</option>
                <option value="2022"> 2022년</option>
                <option value="2023"> 2023년</option>
           
                </select>
            </form> -->
			<script>
				//선택년도 데이터 추출
				console.log("{{reportdate}}")
				$("input#reportdate").val("{{reportdate}}");
				console.log($('input#reportdate').val());
				$("input#reportdate").change(function () {
					console.log($('input#reportdate').val());
					$('#datesearch').submit();	
				});
				
			</script>
			
			<!-- <script>
				//선택된 년도 입력
				$(document).ready(function() {
					var s = document.getElementById("reportdate");
					var ss = s.options[s.selectedIndex].value;
					document.getElementById("yearyear").value = ss;
					});
			
			</script> -->
			<!-- 테스트 -->
			<form action="{% url 'analysis:update_report' %}" method="POST" style="display:inline;" id="update">{% csrf_token %}
				<button type="submit" class="btn btn-secondary btn-sm" style="display:inline; margin-left:5px;font-weight: bold;" id="update" form="update" >업데이트 <i class="icon-fixed-width icon-pencil"></i></button>
			</form>
			
			<button class="btn btn-secondary btn-sm" style="display:inline; margin-left:5px;font-weight: bold;" id="msgmodify" >메시지수정 <i class="icon-fixed-width icon-pencil"></i></button>
			
			<button type="submit" class="btn btn-secondary btn-sm" style="display:none; margin-left:5px;font-weight: bold;" id="msgcomplete" form="reportmsg">완료 <i class="icon-fixed-width icon-check"></i></button>
			
			<div style="display: inline" id="editor"></div>
			<button type="button" class="btn btn-secondary btn-sm" id="cmd" style="font-weight: bold;">
				PDF 다운
			</button>
		</div>
		
		
		<form action="{% url 'analysis:create_reportmsg' %}" method="POST" style="display:inline;" id="reportmsg">{% csrf_token %}
			<input style="display:inline; height:23px;width:200PX;"class="form-control" type="hidden" name="measdate" id="textmodmeasdate" value="{{reportdate}}"></input>
			<input style="display:inline; height:23px;width:200PX;"class="form-control" type="hidden" name="msg5G" id="textmod1copy" value="{{reportmsg.msg5G}}"></input>
			<input style="display:inline;height:23px;width:200px;" class="form-control" type="hidden" name="msgLTE" id="textmod2copy" value="{{reportmsg.msgLTE}}"></input>
			<input style="display:inline; height:23px;width:200px;" class="form-control" type="hidden" name="msgWiFi" id="textmod3copy" value="{{reportmsg.msgWiFi}}"></input>
			<input style="display:inline; height:23px;width:200px;" class="form-control" type="hidden" name="msgWeak" id="textmod4copy" value="{{reportmsg.msgWeak}}"></input>
			<input style="display:inline; height:23px;width:350px;" class="form-control"type="hidden" name="msg5Gafter" id="textmod5copy" value="{{reportmsg.msg5Gafter}}"></input>
			<input style="display:inline;height:23px; width:350px;"class="form-control" type="hidden" name="msgLTEafter" id="textmod6copy" value="{{reportmsg.msgLTEafter}}"></input>
		</form>
		<div class="page">
		<div class="page1" id="page1">
			
			<div id='content' style = "position: relative;">
				<div id='title' style="text-align:center;">
					<h1>S-CXI 상황실 일일 보고</h1>
					<h3 >(</h3>
					<h3 id="current_date"></h3>
					<h3>)</h3>
				</div>
				<hr class="one">
				
				<div id = "meassituation">
				<div>	
					<h2>□ 측정 현황 </h2><h4 style="display: inline;font-weight: bold;" id = 'firstdate'></h4><h4 style="display: inline;font-weight: bold;" id='lastdate'></h4>
					<h3>: 전국 </h3><h3 id="tt"></h3><h3> 지역 중 </h3><h3 id="ttf"></h3><h3> 완료</h3><h3 id="pcf"></h3>
				</div>
				<br> 
				<div id="meassituation5G">
				<div>
					<h3>&nbsp;&nbsp;○ 5G : 전국 </h3><h3 id="tt1"></h3><h3> {{sregi5Gtotal}}개 완료</h3><h3 id = pc1></h3><h3>,</h3>
					{% if reportmsg %}
						{% for reportmsg in reportmsg %}
						<h4 style="color: blue; display:inline;" id='result1'>	
							{{reportmsg.msg5G}}						
						</h4>
						<input style="display:none; height:23px;width:200PX;"class="form-control" type="text" name="msg5G" id="textmod1" value="{{reportmsg.msg5G}}"></input>
						{% endfor %}	
					{% else %}
						<input style="display:none; height:23px;width:200PX;"class="form-control" type="text" name="msg5G" id="textmod1" ></input>
					{% endif %}
				</div>
				<br>
				<div id="output">
					<table id="5Ghh">
						<thead>
							<tr>
								<th rowspan = "2">구분</th>
								<th rowspan = "2">계</th>
								<th colspan = "4">NSA</th>
								<th>SA</th>
							</tr>
							<tr>
								<th>행정동</th>
								<th>다중시설/<br>교통인프라</th>
								<th>공동망</br>(시범)</th>
								<th>소계</th>
								<th>시범</th>
							</tr>
						</thead>
						<tbody>
							
							<tr>
								<td>대상</td>
								{% for regi in regi %}
								<td id = "plan5gtotal">{{regi.total5G}}</td>
								<td id = "plan5gnsahjd">{{regi.nsahjd5G}}</td>
								<td id = "plan5gnsadg">{{regi.nsadg5G}}</td>
								<td id = "plan5gpublic">{{regi.nsapublic5G}}</td>
								<td id = "plan5gnsatotal">{{regi.totalnsa5G}}</td>
								<td id = "plan5gsa">{{regi.sa5G}}</td>
								{% endfor %}
							</tr>
							
							<tr>
								<td>누적</td>
								<td id = "meas5gtotal">{{sregi5Gtotal}}</td>
								<td id = "meas5gnsahjd" >{{sregi5Ghjd}}</td>
								<td id = "meas5gnsadg">{{sregi5Gdagyo}}</td>
								<td id = "meas5gpublic">{{sregi5Gpublic}}</td>
								<td id = "meas5gnsatotal">{{sregi5Gnsatotal}}</td>
								<td id = "meas5gsa">{{sregi5Gsatotal}}</td>
							</tr>
							<tr>
								<td>금일</td>
								<td>{{tregi5Gtotal}}</td>
								<td>{{tregi5Ghjd}}</td>
								<td>{{tregi5Gdagyo}}</td>
								<td>{{tregi5Gpublic}}</td>
								<td>{{tregi5Gnsatotal}}</td>
								<td>{{tregi5Gsatotal}}</td>
							</tr>
						</tbody>
					</table>
			
		
		</div>
		<div style="display: inline; font-size: 10pt; position: relative; left: 5%;">
			<p>※ 지역별 : </p><p id="district5gcount"></p>
			<script>
				let district_list = ['서울','인천','부산','울산','대구','광주','대전','경기','강원','경남','경북','전남','전북','충남','충북','세종','고속도로','지하철','전국'];
				let msg5g = "";
				let count5g = {{district5gcount}};
				for( var i in district_list ){
					if(parseInt(count5g[i])>0){
						msg5g += district_list[i]+parseInt(count5g[i]) + " ";
					}
				}
				document.getElementById("district5gcount").innerText = msg5g;
			</script>	
		</div>
		
			<br><br>
		</div>
		<div id="meassituationLTE">
		<div>
			
			<h3>&nbsp;&nbsp;○ LTE : 전국 </h3><h3 id = "tt2"></h3><h3> {{sregiLTEtotal}}개 완료</h3><h3 id = pc2></h3><h3>,</h3>
			{% if reportmsg %}
				{% for reportmsg in reportmsg %}

				<h4 style="color: blue;" id='result2' >					
					{{reportmsg.msgLTE}}					
				</h4>	
				<input style="display:none;height:23px;width:200px;" class="form-control"type="text" name="msgLTE" id="textmod2" value="{{reportmsg.msgLTE}}"></input>
				{% endfor %}
			{% else %}
				<input style="display:none;height:23px;width:200px;" class="form-control"type="text" name="msgLTE" id="textmod2"></input>
			{% endif %}
		</div>
		<br>
		<div id="output">
			<table id="ltehh">
				<thead>
					<tr>
						<th rowspan = "2" style>구분</th>
						<th rowspan = "2" style>계</th>
						<th colspan = "3" style>행정동</th>
						<th colspan = "2" style>다중이용시설/교통인프라</th>
						
					</tr>
					<tr>
						<th >대도시</th>
						<th >중소도시</th>
						<th >농어촌</th>
						<th >인빌딩</th>
						<th >테마</th>
					</tr>
				</thead>
				<tbody>
					
					<tr>
						<td >대상</td>
						{% for regi in regi %}
						<td id = "planltetotal">{{regi.totalLTE}}</td>
						<td id="planltebct">{{regi.bctLTE}}</td>
						<td id="planltemct">{{regi.mctLTE}}</td>
						<td id="planltesct">{{regi.sctLTE}}</td>
						<td id="planlteib">{{regi.ibLTE}}</td>
						<td id="planltetm">{{regi.tmLTE}}</td>
						
						{% endfor %}
				   </tr>
				   
					<tr>
				 		<td >누적</td>
						<td id = measltetotal>{{sregiLTEtotal}}</td>
						<td id="resultltebct">{{sregiLTEbct}}</td>
						<td id="resultltemct">{{sregiLTEmct}}</td>
						<td id="resultltesct">{{sregiLTEsct}}</td>
						<td id="resultlteib">{{sregiLTEib}}</td>
						<td id="resultltetm">{{sregiLTEtm}}</td>
						
					</tr>
					<tr>
				 		<td >금일</td>
						<td >{{tregiLTEtotal}}</td>
						<td >{{tregiLTEbct}}</td>
						<td >{{tregiLTEmct}}</td>
						<td >{{tregiLTEsct}}</td>
						<td >{{tregiLTEib}}</td>
						<td >{{tregiLTEtm}}</td>
						
					</tr>
				</tbody>
			</table>
		</div>
		<div style="display: inline; font-size: 10pt; position: relative; left: 5%;">
			<p>※ 지역별 : </p><p id="districtltecount"></p>
			<script>
				
				let msglte = "";
				let countlte = {{districtltecount}};
				for( var i in district_list ){
					if(parseInt(countlte[i])>0){
						msglte += district_list[i]+parseInt(countlte[i]) + " ";
					}
				}
				document.getElementById("districtltecount").innerText = msglte;
			</script>	
		</div>
		
			
		<br>	
		</div>
		
</div>
<br>
<div id = "meassituationWiFi">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas13" value="meassituationWiFi"style="color:grey;" checked/> WiFi -->
			<h3>&nbsp;&nbsp;○ WiFi : 전국 </h3><h3 id="tt3"></h3><h3> {{sregiWiFitotal}}국소 완료</h3><h3 id = pc3></h3><h3>,</h3>
			{% if reportmsg %}	
				{% for reportmsg in reportmsg %}
				<h4 style="color: blue;" id='result3'>					
					{{reportmsg.msgWiFi}}					
				</h4>
				<input style="display:none; height:23px;width:200px;" class="form-control" type="text" name="msgWiFi" id="textmod3" value="{{reportmsg.msgWiFi}}"></input>
				{% endfor %}
			{% else %}
				<input style="display:none; height:23px;width:200px;" class="form-control" type="text" name="msgWiFi" id="textmod3"></input>
			{% endif %}
		</div>
		<br>
		<div id="output">
			<table id="wifihh">
				<thead>
					<tr>
						<th >구분</th>
						<th >계</th>
						<th >상용</th>
						<th >개방</th>
						
					</tr>
				</thead>
				<tbody>
					
					<tr>
						<td >대상</td>
						{% for regi in regi %}
						<td id = "planwifitotal">{{regi.totalWiFi}}</td>
						<td id="planwifisy">{{regi.syWiFi}}</td>
						<td id="planwifigb">{{regi.gbWiFi}}</td>
						{% endfor %}
				   </tr>
				  
					<tr>
				 		<td >누적</td>
						<td id = measwifitotal>{{sregiWiFitotal}}</td>
						<td id="resultwifisy">{{sregiWiFisy}}</td>
						<td id="resultwifigb">{{sregiWiFigb}}</td>
					</tr>
					<tr>
				 		<td >금일</td>
						<td >{{tregiWiFitotal}}</td>
						<td >{{tregiWiFisy}}</td>
						<td >{{tregiWiFigb}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div style="display: inline; font-size: 10pt; position: relative; left: 5%;">
			<p>※ 지역별 : </p><p id="districtWiFicount"></p>
			<script>
				let msgWiFi = "";
				let countWiFi = {{districtWiFicount}};
				for( var i in district_list ){
					if(parseInt(countWiFi[i])>0){
						msgWiFi += district_list[i]+parseInt(countWiFi[i]) + " ";
					}
				}
				document.getElementById("districtWiFicount").innerText = msgWiFi;
			</script>	
		</div>
		
		<br>
		<br>
	</div>
	<div id="meassituationweak">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas14" value="meassituationweak"style="color:grey;" checked/> 품질취약지역 -->
			<h3>&nbsp;&nbsp;○ LTE/3G 품질취약지역 : 전국 </h3><h3 id="tt4"></h3><h3> {{sregiweaktotal}}개 완료</h3><h3 id = pc4></h3><h3>,</h3>
			{% if reportmsg %}
				{% for reportmsg in reportmsg %}
				<h4 style="color: blue;" id='result4'>				
					{{reportmsg.msgWeak}}					
				</h4>
				<input style="display:none; height:23px;width:200px;" class="form-control" type="text" name="msgWeak" id="textmod4" value="{{reportmsg.msgWeak}}"></input>
				{% endfor %}
			{% else %}
				<input style="display:none; height:23px;width:200px;" class="form-control" type="text" name="msgWeak" id="textmod4"></input>
			{% endif %}
		</div>
		<br>
		<div id="output">
			<table id="pjhh">
				<thead>
					<tr>
						<th >구분</th>
						<th >계</th>
						<th >등산로</th>
						<th >여객항로</th>
						<th >유인도서</th>
						<th >해안도로</th>
					</tr>
				</thead>
				<tbody>
					
					<tr>
						<td >대상</td>
						{% for regi in regi %}
						<td id = 'planweaktotal' >{{regi.totalWeakArea}}</td>
						<td id="planweakdsr">{{regi.dsrWeak}}</td>
						<td id="planweakyghr">{{regi.yghrWeak}}</td>
						<td id="planweakyids">{{regi.yidsWeak}}</td>
						<td id="planweakhadr">{{regi.hadrWeak}}</td>
						{% endfor %}
					<tr>
				 		<td >누적</td>
						<td id="measweaktotal">{{sregiweaktotal}}</td>
						<td id="resultweakdsr">{{sregiweakdsr}}</td>
						<td id="resultweakyghr">{{sregiweakyghr}}</td>
						<td id="resultweakyids">{{sregiweakyids}}</td>
						<td id="resultweakhadr">{{sregiweakhadr}}</td>
					</tr>
					<tr>
				 		<td >금일</td>
						<td >{{tregiweaktotal}}</td>
						<td >{{tregiweakdsr}}</td>
						<td >{{tregiweakyghr}}</td>
						<td >{{tregiweakyids}}</td>
						<td >{{tregiweakhadr}}</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div style="display: inline; font-size: 10pt; position: relative; left: 5%;">
			<p>※ 지역별 : </p><p id="districtWeakcount"></p>
			<script>
				let msgWeak = "";
				let countWeak = {{districtWeakcount}};
				for( var i in district_list ){
					if(parseInt(countWeak[i])>0){
						msgWeak += district_list[i]+parseInt(countWeak[i]) + " ";
					}
				}
				document.getElementById("districtWeakcount").innerText = msgWeak;
			</script>	
		</div>
		
		<br>
		<br>
	</div>
	</div>
	</div>
	<!-- 테스트 -->
	<br>
	<br>
	<br>
	<br>
	<hr class="one">
	<br>
	<br>
	<br>
	<br>
	<!-- 테스트 -->
	<div class="page2" id="page2">
		<div id="measresult">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas2" value="measresult"style="color:grey;" checked/> 측정결과 -->
			<h2>□ 측정 결과</h2>
		</div>
		<br>
		<div id ="measresult5GNSA">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas21" value="measresult5G"style="color:grey;" checked/> 5G -->
			{% for last5gtotal in last5gtotal %}
			<h3>&nbsp;&nbsp;○ 5G NSA: DL 속도</h3>
			<h3 id="target5">{{totalnsa5g.0}}Mbps</h3>
			<p>('21년 대비 <p id="nsa5gdldiff"></p><p>)</p></p>
			<h3>, UL 속도</h3>
			<h3 id="target6">{{totalnsa5g.1}}Mbps</h3>
			<p>('21년 대비 <p id="nsa5guldiff"></p><p>)</p></p>
			<h3>, LTE 전환율 DL</h3>
			<h3 id="target7">{{totalnsa5g.2}}%</h3>
			<p>('21년 대비 <p id="nsa5gltedldiff"></p><p>)</p></p>
			<h3>, LTE 전환율 UL</h3>
			<h3 id="target7">{{totalnsa5g.3}}%</h3>
			<p>('21년 대비 <p id="nsa5glteuldiff"></p><p>)</p></p>
			<h3>, 지연시간</h2>
			<h3 id="target9">{{totalnsa5g.4}}ms</h3>
			<p>('21년 대비 <p id="nsa5gdelaydiff"></p><p>)</p></p>
			
			
		</div>
		<script>
		
		let nsa5gdldiff = ({{totalnsa5g.0}}-{{last5gtotal.DL}}).toFixed(1);
		let nsa5guldiff = ({{totalnsa5g.1}}-{{last5gtotal.UL}}).toFixed(1);
		let nsa5gltedldiff = ({{totalnsa5g.2}}-{{last5gtotal.LTEDL}}).toFixed(1);
		let nsa5glteuldiff = ({{totalnsa5g.3}}-{{last5gtotal.LTEUL}}).toFixed(1);
		let nsa5gdelaydiff = ({{totalnsa5g.4}}-{{last5gtotal.delay}}).toFixed(1);
		
		if(nsa5gdldiff<0){
			document.getElementById("nsa5gdldiff").innerHTML = Math.abs(nsa5gdldiff) + "Mbps↓";
		}else{
			document.getElementById("nsa5gdldiff").innerHTML = Math.abs(nsa5gdldiff) + "Mbps↑";
		}
		if(nsa5guldiff<0){
			document.getElementById("nsa5guldiff").innerHTML = Math.abs(nsa5guldiff) + "Mbps↓";
		}else{
			document.getElementById("nsa5guldiff").innerHTML = Math.abs(nsa5guldiff) + "Mbps↑";
		}
		if(nsa5gltedldiff<0){
			document.getElementById("nsa5gltedldiff").innerHTML = Math.abs(nsa5gltedldiff) + "%↓";
		}else{
			document.getElementById("nsa5gltedldiff").innerHTML = Math.abs(nsa5gltedldiff) + "%↑";
		}
		if(nsa5glteuldiff<0){
			document.getElementById("nsa5glteuldiff").innerHTML = Math.abs(nsa5glteuldiff) + "%↓";
		}else{
			document.getElementById("nsa5glteuldiff").innerHTML = Math.abs(nsa5glteuldiff) + "%↑";
		}
		if(nsa5gdelaydiff<0){
			document.getElementById("nsa5gdelaydiff").innerHTML = Math.abs(nsa5gdelaydiff) + "ms↓";
		}else{
			document.getElementById("nsa5gdelaydiff").innerHTML = Math.abs(nsa5gdelaydiff) + "ms↑";
		}
		
		</script>
		{% endfor %}
		<br><div id="output1">
			<table id="5Ggg">
				<thead>
					<tr>
						<th  colspan = "2" rowspan = "2">구분<br>(21년 결과)</th>
						<th  colspan = "2">전송속도(Mbps)</th>
						<th  colspan = "2">LTE전환율(%)</th>
						<th  rowspan = "2">지연시간(ms)</th>
					</tr>
					<tr >
						<th>DL</th>
						<th>UL</th>
						<th>DL</th>
						<th>UL</th>
					</tr>
				</thead>
				<tbody id="graph" >
					{% for last5gbct in last5gbct %}
					<tr>
						<td  rowspan = "3">행정동</td>
						<td >대도시</td>
						<td >{{bctnsa5g.0}}({{last5gbct.DL}})</td>
						<td >{{bctnsa5g.1}}({{last5gbct.UL}})</td>
						<td >{{bctnsa5g.2}}({{last5gbct.LTEDL}})</td>
						<td >{{bctnsa5g.3}}({{last5gbct.LTEUL}})</td>
						<td >{{bctnsa5g.4}}({{last5gbct.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5gmct in last5gmct %}
					<tr>
						<td >중소도시</td>
						<td >{{mctnsa5g.0}}({{last5gmct.DL}})</td>
						<td >{{mctnsa5g.1}}({{last5gmct.UL}})</td>
						<td >{{mctnsa5g.2}}({{last5gmct.LTEDL}})</td>
						<td >{{mctnsa5g.3}}({{last5gmct.LTEUL}})</td>
						<td >{{mctnsa5g.4}}({{last5gmct.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5ghjd in last5ghjd %}
					<tr>
						<td >계</td>
						<td >{{hjdnsa5g.0}}({{last5ghjd.DL}})</td>
						<td >{{hjdnsa5g.1}}({{last5ghjd.UL}})</td>
						<td >{{hjdnsa5g.2}}({{last5ghjd.LTEDL}})</td>
						<td >{{hjdnsa5g.3}}({{last5ghjd.LTEUL}})</td>
						<td >{{hjdnsa5g.4}}({{last5ghjd.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5gdj in last5gdj %}
					<tr>
						<td  colspan="2">다중이용시설</td>
						<td >{{djnsa5g.0}}({{last5gdj.DL}})</td>
						<td >{{djnsa5g.1}}({{last5gdj.UL}})</td>
						<td >{{djnsa5g.2}}({{last5gdj.LTEDL}})</td>
						<td >{{djnsa5g.3}}({{last5gdj.LTEUL}})</td>
						<td >{{djnsa5g.4}}({{last5gdj.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5gapt in last5gapt %}
					<tr>
						<td  colspan="2">아파트</td>
						<td >{{aptnsa5g.0}}({{last5gapt.DL}})</td>
						<td >{{aptnsa5g.1}}({{last5gapt.UL}})</td>
						<td >{{aptnsa5g.2}}({{last5gapt.LTEDL}})</td>
						<td >{{aptnsa5g.3}}({{last5gapt.LTEUL}})</td>
						<td >{{aptnsa5g.4}}({{last5gapt.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5guniv in last5guniv %}
					<tr>
						<td  colspan="2">대학교</td>
						<td >{{univnsa5g.0}}({{last5guniv.DL}})</td>
						<td >{{univnsa5g.1}}({{last5guniv.UL}})</td>
						<td >{{univnsa5g.2}}({{last5guniv.LTEDL}})</td>
						<td >{{univnsa5g.3}}({{last5guniv.LTEUL}})</td>
						<td >{{univnsa5g.4}}({{last5guniv.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5gtraffic in last5gtraffic %}
					<tr>
						<td  colspan="2">교통인프라</td>
						<td >{{trafficnsa5g.0}}({{last5gtraffic.DL}})</td>
						<td >{{trafficnsa5g.1}}({{last5gtraffic.UL}})</td>
						<td >{{trafficnsa5g.2}}({{last5gtraffic.LTEDL}})</td>
						<td >{{trafficnsa5g.3}}({{last5gtraffic.LTEUL}})</td>
						<td >{{trafficnsa5g.4}}({{last5gtraffic.delay}})</td>
					</tr>
					{% endfor %}
					{% for last5gtotal in last5gtotal %}
					<tr>
						<td  colspan="2">종합</td>
						<td >{{totalnsa5g.0}}({{last5gtotal.DL}})</td>
						<td >{{totalnsa5g.1}}({{last5gtotal.UL}})</td>
						<td >{{totalnsa5g.2}}({{last5gtotal.LTEDL}})</td>
						<td >{{totalnsa5g.3}}({{last5gtotal.LTEUL}})</td>
						<td >{{totalnsa5g.4}}({{last5gtotal.delay}})</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<!-- <p style="font-size: 10pt;">※서비스 가용률:</p> -->
		
	
	<br>
		<br>
	</div>
	<div id ="measresult5GSA">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas21" value="measresult5G"style="color:grey;" checked/> 5G -->
			<h3>&nbsp;&nbsp;-5G SA : NSA 결과 대비 DL </h3>
			<h3 id="sadldiff"></h3>
			<h3>, UL </h3>
			<h3 id="sauldiff"></h3>
			<h3>, 지연시간 </h2>
			<h3 id="sadelaydiff"></h3>
		</div>
		<script>
			let sadldiff = ('{{sa5g.0}}'-'{{nsa5g.0}}').toFixed(1);
			let sauldiff = ('{{sa5g.1}}'-'{{nsa5g.1}}').toFixed(1);
			let sadelaydiff = ('{{sa5g.4}}'-'{{nsa5g.4}}').toFixed(1);
		
			
			
			if(sadldiff<0){
				document.getElementById("sadldiff").innerHTML = Math.abs(sadldiff) + "Mbps↓";
			}else{
				document.getElementById("sadldiff").innerHTML = Math.abs(sadldiff) + "Mbps↑";
			}
			if(sauldiff<0){
				document.getElementById("sauldiff").innerHTML = Math.abs(sauldiff) + "Mbps↓";
			}else{
				document.getElementById("sauldiff").innerHTML = Math.abs(sauldiff) + "Mbps↑";
			}
			if(sadelaydiff<0){
				document.getElementById("sadelaydiff").innerHTML = Math.abs(sadelaydiff) + "ms↓";
			}else{
				document.getElementById("sadelaydiff").innerHTML = Math.abs(sadelaydiff) + "ms↑";
			}
			
			</script>
		<br><div id="output1">
			<table id="5Ggg">
				<thead>
					<tr>
						<th  rowspan = "2">구분</th>
						<th  colspan = "2">전송속도(Mbps)</th>
						<th  colspan = "2">LTE전환율(%)</th>
						<th  rowspan = "2">지연시간<br>(ms)</th>
					</tr>
					<tr >
						<th>DL</th>
						<th>UL</th>
						<th>DL</th>
						<th>UL</th>
					</tr>
				</thead>
				<tbody id="graph" >
					
					<tr>
						<td  >SA</td>
						<td >{{sa5g.0}}</td>
						<td >{{sa5g.1}}</td>
						<td >{{sa5g.2}}</td>
						<td >{{sa5g.3}}</td>
						<td >{{sa5g.4}}</td>
					</tr>
					<tr>
						<td  >NSA</td>
						<td >{{nsa5g.0}}</td>
						<td >{{nsa5g.1}}</td>
						<td >{{nsa5g.2}}</td>
						<td >{{nsa5g.3}}</td>
						<td >{{nsa5g.4}}</td>
					</tr>
					
					
				</tbody>
			</table>
		</div>
		
		
	
	
	<br>
		<br>
	</div>
	<div id="measresultpost5G">
		<div>
			<!-- <input type="checkbox" name="meastitle" id="meas24" value="measresultpost5G" checked/> 사후측정5G -->
			<h3>&nbsp;&nbsp;※ 5G 사후 측정: </h3><h3 style="color:blue;">DL 속도</h3><h3 style="color:blue;" id='5grankdl'></h3>
			<h4>(</h4><h4 id="ktsktdl"></h4><h4>/</h4><h4 id="ktlgdl"></h4><h4>)</h4>
		</div>
		<br><div id="output1">
			<form action="{% url 'analysis:create_postmeasure5G' %}" method="POST" style="display:inline;" id="postmeas5G">{% csrf_token %}
			<table id="5Gsh" style="border: solid 1px black;" >
				
				<thead>
					<tr>
						<th rowspan = "2">지역<br>(측정수)</th>
						<th rowspan = "2">'21년 결과<br>(DL 속도<br>K/S/L)</th>
						<th rowspan = "2">구분</th>
						<th colspan = "5">DL 속도(Mbps)/RSRP(dBm)/<br>LTE 대역(MHz)</th>
						<th colspan = "5">UL 속도(Mbps)</th>						
					</tr>
					<tr >
						<th>KT<br>(본)</th>
						<th>KT<br>(사후)</th>
						<th>S사<br>(사후)</th>
						<th>L사<br>(사후)</th>
						<th>KT<br>(사후순위)</th>
						<th>KT<br>(본)</th>
						<th>KT<br>(사후)</th>
						<th>S사<br>(사후)</th>
						<th>L사<br>(사후)</th>
						<th>KT<br>(사후순위)</th>					
					</tr>	
				</thead>
				<tbody id="graph">
				
					<tr>
						<td rowspan = "3">종합({{postmeas5gtotal_district}})</td>
						<td rowspan = "3">{{postmeas5gtotal_lastkt_dl}}/{{postmeas5gtotal_lastskt_dl}}/{{postmeas5gtotal_lastlg_dl}}</td>
						<td>속도</td>
						<td>{{postmeas5gtotal_measkt_dl}}</td>
						<td>{{postmeas5gtotal_postmeaskt_dl}}</td>
						<td>{{postmeas5gtotal_postmeasskt_dl}}</td>
						<td>{{postmeas5gtotal_postmeaslg_dl}}</td>
						<td rowspan = "3" id = "5grankdltotal"></td>
						<td rowspan = "3">{{postmeas5gtotal_measkt_ul}}</td>
						<td rowspan = "3">{{postmeas5gtotal_postmeaskt_ul}}</td>
						<td rowspan = "3">{{postmeas5gtotal_postmeasskt_ul}}</td>
						<td rowspan = "3">{{postmeas5gtotal_postmeaslg_ul}}</td>
						<td rowspan = "3" id = "5grankultotal"></td>
					</tr>
					<tr>
						<td>RSRP</td>
						<td>{{postmeas5gtotal_measkt_rsrp}}</td>
						<td>{{postmeas5gtotal_postmeaskt_rsrp}}</td>
						<td>{{postmeas5gtotal_postmeasskt_rsrp}}</td>
						<td>{{postmeas5gtotal_postmeaslg_rsrp}}</td>						
					</tr>
					<tr>
						<td>LTE 평균대역</td>
						<td>{{postmeas5gtotal_measkt_lte}}</td>
						<td>{{postmeas5gtotal_postmeaskt_lte}}</td>
						<td>{{postmeas5gtotal_postmeasskt_lte}}</td>
						<td>{{postmeas5gtotal_postmeaslg_lte}}</td>						
					</tr>
					<script>
					function rank(value, arr) {
						const sorted = arr.slice().sort(function(a,b){return b-a});
						const rank = sorted.indexOf(value);
						if(rank > -1) return rank+1;
						return null;
					}	
						let kttotaldl = '{{postmeas5gtotal_postmeaskt_dl}}';
						let skttotaldl = '{{postmeas5gtotal_postmeasskt_dl}}';
						let lgtotaldl = '{{postmeas5gtotal_postmeaslg_dl}}';
						let dltotallist = [kttotaldl,skttotaldl,lgtotaldl]
						let ktsktdl = kttotaldl - skttotaldl;
						let ktlgdl = kttotaldl - lgtotaldl;
						if(ktsktdl>0){
							document.getElementById("ktsktdl").innerText = "S사 대비" + Math.abs(ktsktdl) + "M ↑ 우위";
						}else{
							document.getElementById("ktsktdl").innerText = "S사 대비" + Math.abs(ktsktdl) + "M ↓ 열위";
							document.getElementById("ktsktdl").style.color = 'red';
						}
						if(ktlgdl>0){
							document.getElementById("ktlgdl").innerText = "L사 대비" + Math.abs(ktsktdl) + "M ↑ 우위";
						}else{
							document.getElementById("ktlgdl").innerText = "L사 대비" + Math.abs(ktsktdl) + "M ↓ 열위";
							document.getElementById("ktlgdl").style.color = 'red';
						}  
						document.getElementById("5grankdltotal").innerText = rank(kttotaldl,dltotallist)+"위";
						document.getElementById("5grankdl").innerText = rank(kttotaldl,dltotallist)+"위";
						let kttotalul = '{{postmeas5gtotal_postmeaskt_ul}}';
						let skttotalul = '{{postmeas5gtotal_postmeasskt_ul}}';
						let lgtotalul = '{{postmeas5gtotal_postmeaslg_ul}}';
						let ultotallist = [kttotalul,skttotalul,lgtotalul]
						document.getElementById("5grankultotal").innerText = rank(kttotalul,ultotallist)+"위";
						let rank5g1 = rank(kttotaldl,dltotallist);
						let rank5g2 = rank(kttotalul,ultotallist);
						if(rank5g1 == 3){
							document.getElementById("5grankdltotal").style.color = 'red';
						}
						if(rank5g2 == 3){
							document.getElementById("5grankultotal").style.color = 'red';
						}
						
					</script>
					{% load index %}
					{% for i in postmeas5glist %}
					<tr>
						<td rowspan = "3" id="5gdistrict">{{postmeas5glist|index:forloop.counter0}}({{postmeas5g_district|index:forloop.counter0}})</td>
						<td rowspan = "3" id="5glastdl">{{postmeas5g_lastkt_dl|index:forloop.counter0}}/{{postmeas5g_lastskt_dl|index:forloop.counter0}}/{{postmeas5g_lastlg_dl|index:forloop.counter0}}</td>
						<td>속도</td>
						<td id="5gmeaskt_dl">{{postmeas5g_measkt_dl|index:forloop.counter0}}</td>
						<td id="5gpostmeaskt_dl">{{postmeas5g_postmeaskt_dl|index:forloop.counter0}}</td>
						<td id="5gpostmeasskt_dl">{{postmeas5g_postmeasskt_dl|index:forloop.counter0}}</td>
						<td id="5gpostmeaslg_dl">{{postmeas5g_postmeaslg_dl|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5grank1"> {{postmeas5grankdllist|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5gmeaskt_ul">{{postmeas5g_measkt_ul|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5gpostmeaskt_ul">{{postmeas5g_postmeaskt_ul|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5gpostmeasskt_ul">{{postmeas5g_postmeasskt_ul|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5gpostmeaslg_ul">{{postmeas5g_postmeaslg_ul|index:forloop.counter0}}</td>
						<td rowspan = "3" id="5grank2">{{postmeas5grankullist|index:forloop.counter0}}</td>
					</tr>
					<tr>
						<td>RSRP</td>
						<td id="5gmeaskt_rsrp">{{postmeas5g_measkt_rsrp|index:forloop.counter0}}</td>
						<td id="5gpostmeaskt_rsrp">{{postmeas5g_postmeaskt_rsrp|index:forloop.counter0}}</td>
						<td id="5gpostmeasskt_rsrp">{{postmeas5g_postmeasskt_rsrp|index:forloop.counter0}}</td>
						<td id="5gpostmeaslg_rsrp">{{postmeas5g_postmeaslg_rsrp|index:forloop.counter0}}</td>		
					</tr>
					<tr>
						<td>LTE 평균대역</td>
						<td id="5gmeaskt_lte">{{postmeas5g_measkt_lte|index:forloop.counter0}}</td>
						<td id="5gpostmeaskt_lte">{{postmeas5g_postmeaskt_lte|index:forloop.counter0}}</td>
						<td id="5gpostmeasskt_lte">{{postmeas5g_postmeasskt_lte|index:forloop.counter0}}</td>
						<td id="5gpostmeaslg_lte">{{postmeas5g_postmeaslg_lte|index:forloop.counter0}}</td>						
					</tr>
					{% endfor %}
				
					
				</tbody>
			</table>
		</form>
		</div>
	</br>
</div>
</div>
<!-- 테스트 -->
<br>
<br>
<br>
<br>
<hr class="one">
<br>
<br>
<br>
<br>
<!-- 테스트 -->
<div class="page3" id="page3">
<div id="measresultLTE">
	<div>
		<!-- <input type="checkbox" name="meastitle" id="meas22" value="measresultLTE"style="color:grey;background-color: white;" checked/> LTE -->
		{% for lastltetotal in lastltetotal %}
			<h3>&nbsp;&nbsp;○ LTE: DL 속도</h3>
			<h3>{{totallte.0}}Mbps</h3>
			<p>('21년 대비 <p id="ltedldiff"></p><p>)</p></p>
			<h3>, UL 속도</h3>
			<h3>{{totallte.1}}Mbps</h3>
			<p>('21년 대비 <p id="lteuldiff"></p><p>)</p></p>
			<h3>, 지연시간</h2>
			<h3>{{totallte.2}}ms</h3>
			<p>('21년 대비 <p id="ltedelaydiff"></p><p>)</p></p>
			
			
		</div>
		<script>

		let ltedldiff = ({{totallte.0}}-{{lastltetotal.DL}}).toFixed(1);
		let lteuldiff = ({{totallte.1}}-{{lastltetotal.UL}}).toFixed(1);
		let ltedelaydiff = ({{totallte.2}}-{{lastltetotal.delay}}).toFixed(1);
		
		if(ltedldiff<0){
			document.getElementById("ltedldiff").innerHTML = Math.abs(ltedldiff) + "Mbps↓";
		}else{
			document.getElementById("ltedldiff").innerHTML = Math.abs(ltedldiff) + "Mbps↑";
		}
		if(lteuldiff<0){
			document.getElementById("lteuldiff").innerHTML = Math.abs(lteuldiff) + "Mbps↓";
		}else{
			document.getElementById("lteuldiff").innerHTML = Math.abs(lteuldiff) + "Mbps↑";
		}
		if(ltedelaydiff<0){
			document.getElementById("ltedelaydiff").innerHTML = Math.abs(ltedelaydiff) + "ms↓";
		}else{
			document.getElementById("ltedelaydiff").innerHTML = Math.abs(ltedelaydiff) + "ms↑";
		}
		
		</script>
		{% endfor %}
	<br><div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2" colspan="2">구분<br/>('21년 결과)</th>
					<th colspan="2">전송속도(Mbps)</th>
					<th rowspan="2">지연시간<br/>(ms)</th>
				</tr>
				<tr>
					<th>DL</th>
					<th>UL</th>
				</tr>
			</thead>
			<tbody>
				{% for lastltebct in lastltebct %}
				<tr>
					<td rowspan="4">행정동</td>
					<td>대도시</td>
				  	<td >{{bctlte.0}}({{lastltebct.DL}})</td>
					<td >{{bctlte.1}}({{lastltebct.UL}})</td>
					<td >{{bctlte.2}}({{lastltebct.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastltemct in lastltemct %}
				<tr>
					<td>중소도시</td>
					<td >{{mctlte.0}}({{lastltemct.DL}})</td>
					<td >{{mctlte.1}}({{lastltemct.UL}})</td>
					<td >{{mctlte.2}}({{lastltemct.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastltesct in lastltesct %}
				<tr>
					<td>농어촌</td>                           
					<td >{{sctlte.0}}({{lastltesct.DL}})</td>
					<td >{{sctlte.1}}({{lastltesct.UL}})</td>
					<td >{{sctlte.2}}({{lastltesct.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastltehjd in lastltehjd %}
				<tr>
					<td>계</td>
					<td >{{hjdlte.0}}({{lastltehjd.DL}})</td>
					<td >{{hjdlte.1}}({{lastltehjd.UL}})</td>
					<td >{{hjdlte.2}}({{lastltehjd.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastlteib in lastlteib %}
				<tr>
					<td colspan="2">인빌딩</td>
					<td >{{iblte.0}}({{lastlteib.DL}})</td>
					<td >{{iblte.1}}({{lastlteib.UL}})</td>
					<td >{{iblte.2}}({{lastlteib.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastltetm in lastltetm %}
				<tr>
					<td colspan="2">테마</td>
					<td >{{tmlte.0}}({{lastltetm.DL}})</td>
					<td >{{tmlte.1}}({{lastltetm.UL}})</td>					
					<td >{{tmlte.2}}({{lastltetm.delay}})</td>
				</tr>
				{% endfor %}
				{% for lastltetotal in lastltetotal %}
				<tr>
					<td colspan="2">종합</td>
					<td >{{totallte.0}}({{lastltetotal.DL}})</td>
					<td >{{totallte.1}}({{lastltetotal.UL}})</td>
					<td >{{totallte.2}}({{lastltetotal.delay}})</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	<!-- <p style="font-size: 10pt;">※서비스 가용률:</p> -->
	


<br>
	<br>
	
</div>

<div id="measresultpostLTE">
	<div>
		<!-- <input type="checkbox" name="meastitle" id="meas25" value="measresultpostLTE" checked/> 사후측정LTE -->
		<h3>&nbsp;&nbsp;※ LTE 사후 측정: </h3><h3 style="color:blue;">DL 속도</h3><h3 style="color:blue;" id='lterankdl'></h3>
		<h4>(</h4><h4 id="ktsktdllte"></h4><h4>/</h4><h4 id="ktlgdllte"></h4><h4>)</h4>
	</div>
	<br>
	<div id="output1">
		<table id="5Gsh" style="border: solid 1px black;">
				
			<thead>
				<tr>
					<th rowspan = "2">지역<br>(측정수)</th>
					<th rowspan = "2">'21년 결과<br>(DL 속도<br>K/S/L)</th>
					<th rowspan = "2">구분</th>
					<th colspan = "5">DL 속도(Mbps)/RSRP(dBm)/<br>SINR(dB)</th>
					<th colspan = "5">UL 속도(Mbps)</th>						
				</tr>
				<tr >
					<th>KT<br>(본)</th>
					<th>KT<br>(사후)</th>
					<th>S사<br>(사후)</th>
					<th>L사<br>(사후)</th>
					<th>KT<br>(사후순위)</th>
					<th>KT<br>(본)</th>
					<th>KT<br>(사후)</th>
					<th>S사<br>(사후)</th>
					<th>L사<br>(사후)</th>
					<th>KT<br>(사후순위)</th>					
				</tr>	
			</thead>
			<tbody id="graph">
			
				<tr>
					<td rowspan = "3">종합({{postmeasltetotal_district}})</td>
					<td rowspan = "3">{{postmeasltetotal_lastkt_dl}}/{{postmeasltetotal_lastskt_dl}}/{{postmeasltetotal_lastlg_dl}}</td>
					<td>속도</td>
					<td>{{postmeasltetotal_measkt_dl}}</td>
					<td>{{postmeasltetotal_postmeaskt_dl}}</td>
					<td>{{postmeasltetotal_postmeasskt_dl}}</td>
					<td>{{postmeasltetotal_postmeaslg_dl}}</td>
					<td rowspan = "3" id = "lterankdltotal"></td>
					<td rowspan = "3">{{postmeasltetotal_measkt_ul}}</td>
					<td rowspan = "3">{{postmeasltetotal_postmeaskt_ul}}</td>
					<td rowspan = "3">{{postmeasltetotal_postmeasskt_ul}}</td>
					<td rowspan = "3">{{postmeasltetotal_postmeaslg_ul}}</td>
					<td rowspan = "3" id = "lterankultotal"></td>
				</tr>
				<tr>
					<td>RSRP</td>
					<td>{{postmeasltetotal_measkt_rsrp}}</td>
					<td>{{postmeasltetotal_postmeaskt_rsrp}}</td>
					<td>{{postmeasltetotal_postmeasskt_rsrp}}</td>
					<td>{{postmeasltetotal_postmeaslg_rsrp}}</td>						
				</tr>
				<tr>
					<td>SINR</td>
					<td>{{postmeasltetotal_measkt_sinr}}</td>
					<td>{{postmeasltetotal_postmeaskt_sinr}}</td>
					<td>{{postmeasltetotal_postmeasskt_sinr}}</td>
					<td>{{postmeasltetotal_postmeaslg_sinr}}</td>						
				</tr>
				<script>
				function rank(value, arr) {
					const sorted = arr.slice().sort(function(a,b){return b-a});
					const rank = sorted.indexOf(value);
					if(rank > -1) return rank+1;
					return null;
				}	
					let kttotaldllte = '{{postmeasltetotal_postmeaskt_dl}}';
					let skttotaldllte = '{{postmeasltetotal_postmeasskt_dl}}';
					let lgtotaldllte = '{{postmeasltetotal_postmeaslg_dl}}';
					let dltotallistlte = [kttotaldl,skttotaldl,lgtotaldl]
					let ktsktdllte = kttotaldllte - skttotaldllte;
					let ktlgdllte = kttotaldllte - lgtotaldllte;
					if(ktsktdllte>0){
						document.getElementById("ktsktdllte").innerText = "S사 대비" + Math.abs(ktsktdllte) + "M ↑ 우위";
					}else{
						document.getElementById("ktsktdllte").innerText = "S사 대비" + Math.abs(ktsktdllte) + "M ↓ 열위";
						document.getElementById("ktsktdllte").style.color = 'red';
					}
					if(ktlgdllte>0){
						document.getElementById("ktlgdllte").innerText = "L사 대비" + Math.abs(ktsktdllte) + "M ↑ 우위";
					}else{
						document.getElementById("ktlgdllte").innerText = "L사 대비" + Math.abs(ktsktdllte) + "M ↓ 열위";
						document.getElementById("ktlgdllte").style.color = 'red';
					}  
					document.getElementById("lterankdltotal").innerText = rank(kttotaldllte,dltotallistlte)+"위";
					document.getElementById("lterankdl").innerText = rank(kttotaldllte,dltotallistlte)+"위";
					let kttotalullte = '{{postmeasltetotal_postmeaskt_ul}}';
					let skttotalullte = '{{postmeasltetotal_postmeasskt_ul}}';
					let lgtotalullte = '{{postmeasltetotal_postmeaslg_ul}}';
					let ultotallistlte = [kttotalul,skttotalul,lgtotalul]
					document.getElementById("lterankultotal").innerText = rank(kttotalullte,ultotallistlte)+"위";
				</script>
				{% load index %}
				{% for i in postmeasltelist %}
				<tr>
					<td rowspan = "3" id="ltedistrict">{{postmeasltelist|index:forloop.counter0}}({{postmeaslte_district|index:forloop.counter0}})</td>
					<td rowspan = "3" id="ltelastdl">{{postmeaslte_lastkt_dl|index:forloop.counter0}}/{{postmeaslte_lastskt_dl|index:forloop.counter0}}/{{postmeaslte_lastlg_dl|index:forloop.counter0}}</td>
					<td>속도</td>
					<td id="ltemeaskt_dl">{{postmeaslte_measkt_dl|index:forloop.counter0}}</td>
					<td id="ltepostmeaskt_dl">{{postmeaslte_postmeaskt_dl|index:forloop.counter0}}</td>
					<td id="ltepostmeasskt_dl">{{postmeaslte_postmeasskt_dl|index:forloop.counter0}}</td>
					<td id="ltepostmeaslg_dl">{{postmeaslte_postmeaslg_dl|index:forloop.counter0}}</td>
					<td rowspan = "3" id="lterank1"> {{postmeaslterankdllist|index:forloop.counter0}}</td>
					<td rowspan = "3" id="ltemeaskt_ul">{{postmeaslte_measkt_ul|index:forloop.counter0}}</td>
					<td rowspan = "3" id="ltepostmeaskt_ul">{{postmeaslte_postmeaskt_ul|index:forloop.counter0}}</td>
					<td rowspan = "3" id="ltepostmeasskt_ul">{{postmeaslte_postmeasskt_ul|index:forloop.counter0}}</td>
					<td rowspan = "3" id="ltepostmeaslg_ul">{{postmeaslte_postmeaslg_ul|index:forloop.counter0}}</td>
					<td rowspan = "3" id="lterank2">{{postmeaslterankullist|index:forloop.counter0}}</td>
					</tr>
					<tr>
					<td>RSRP</td>
					<td id="ltemeaskt_rsrp">{{postmeaslte_measkt_rsrp|index:forloop.counter0}}</td>
					<td id="ltepostmeaskt_rsrp">{{postmeaslte_postmeaskt_rsrp|index:forloop.counter0}}</td>
					<td id="ltepostmeasskt_rsrp">{{postmeaslte_postmeasskt_rsrp|index:forloop.counter0}}</td>
					<td id="ltepostmeaslg_rsrp">{{postmeaslte_postmeaslg_rsrp|index:forloop.counter0}}</td>		
					</tr>
					<tr>
					<td>SINR</td>
					<td id="ltemeaskt_lte">{{postmeaslte_measkt_sinr|index:forloop.counter0}}</td>
					<td id="ltepostmeaskt_lte">{{postmeaslte_postmeaskt_sinr|index:forloop.counter0}}</td>
					<td id="ltepostmeasskt_lte">{{postmeaslte_postmeasskt_sinr|index:forloop.counter0}}</td>
					<td id="ltepostmeaslg_lte">{{postmeaslte_postmeaslg_sinr|index:forloop.counter0}}</td>						
					</tr>
					<script>
						console.log({{postmeaslteranklist}})
					</script>
					
			{% endfor %}
			
				
			</tbody>
		</table>
	</div>
</br>
</div>
<br>
	<br>
	<br>
	<br>
	<hr class="one">
	<br>
	<br>
	<br>
	<br>
<div class="page4" id="page4">
<div id="measresultweak">
	<div>
		<!-- <input type="checkbox" name="meastitle" id="meas22" value="measresultLTE"style="color:grey;background-color: white;" checked/> LTE -->
		<h3>&nbsp;&nbsp;○ LTE/3G 품질취약지역 </h3>
		
	</div>
	<br><div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">구분<br/>('21년 결과)</th>
					<th colspan="2">통화성공률(%)</th>
					<th colspan="2">전송성공률(%)</th>
				</tr>
				<tr>
					<th>VoLTE</th>
					<th>3G</th>
					<th>LTE</th>
					<th>3G</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					
					<td>등산로</td>
					{% for weakdsr in weakdsr %}
				  	<td >{{weakvolte.0}}({{weakdsr.weakvolte}})</td>
					<td >{{weaktele3g.0}}({{weakdsr.weaktele3g}})</td>
					<td >{{weaklte.0}}({{weakdsr.weaklte}})</td>
					<td >{{weak3g.0}}({{weakdsr.weak3g}})</td>
					{% endfor %}
				</tr>
				<tr>
					<td>해상로</td>
					{% for weakyghr in weakyghr %}
					<td >{{weakvolte.1}}({{weakyghr.weakvolte}})</td>
					<td >{{weaktele3g.1}}({{weakyghr.weaktele3g}})</td>
					<td >{{weaklte.1}}({{weakyghr.weaklte}})</td>
					<td >{{weak3g.1}}({{weakyghr.weak3g}})</td>
					{% endfor %}
				</tr>
				<tr>
					<td>도서</td>     
					{% for weakyids in weakyids %}                      
					<td >{{weakvolte.2}}({{weakyids.weakvolte}})</td>
					<td >{{weaktele3g.2}}({{weakyids.weaktele3g}})</td>
					<td >{{weaklte.2}}({{weakyids.weaklte}})</td>
					<td >{{weak3g.2}}({{weakyids.weak3g}})</td>
					{% endfor %}
				</tr>
				<tr>
					<td>해안도로</td>
					{% for weakhadr in weakhadr %}
					<td >{{weakvolte.3}}({{weakhadr.weakvolte}})</td>
					<td >{{weaktele3g.3}}({{weakhadr.weaktele3g}})</td>
					<td >{{weaklte.3}}({{weakhadr.weaklte}})</td>
					<td >{{weak3g.3}}({{weakhadr.weak3g}})</td>
					{% endfor %}
				</tr>
				<tr>
					<td >계</td>
					{% for weaktotal in weaktotal %}
					<td >{{weakvolte.4}}({{weaktotal.weakvolte}})</td>
					<td >{{weaktele3g.4}}({{weaktotal.weaktele3g}})</td>
					<td >{{weaklte.4}}({{weaktotal.weaklte}})</td>
					<td >{{weak3g.4}}({{weaktotal.weak3g}})</td>
					{% endfor %}
				</tr>
			</tbody>
		</table>
	</div>
	
	


<br>
	<br>
	
</div>
<div id="measresultWiFi">
	<div>
		<!-- <input type="checkbox" name="meastitle" id="meas23" value="measresultWiFi" checked/> WiFi -->
		<h3>&nbsp;&nbsp;○ WiFi</h3></br></br>
		<h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;종합(지하철 제외)</h3>
	</div>

	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">구분<br/>('21년 결과)</th>
					<th colspan="3">DL(Mbps)</th>
					<th colspan="3">UL(Mbps)</th>
				</tr>
				<tr>
					<th>계</th>
					<th>상용</th>
					<th>개방</th>
					<th>계</th>
					<th>상용</th>
					<th>개방</th>
				</tr>
			</thead>
			<tbody>
				
				<tr>
					<td>누적</td>
					{% for lastwifitotal in lastwifitotal %}
					<td>{{totalwifidl}}({{lastwifitotal.DL}})</td>
					{% endfor %}
					{% for lastwifisy in lastwifisy %}
					<td>{{totalsywifidl}}({{lastwifisy.DL}})</td>
					{% endfor %}
					{% for lastwifigb in lastwifigb %}
					<td>{{totalgbwifidl}}({{lastwifigb.DL}})</td>
					{% endfor %}
					{% for lastwifitotal in lastwifitotal %}
					<td>{{totalwifiul}}({{lastwifitotal.UL}})</td>
					{% endfor %}
					{% for lastwifisy in lastwifisy %}
					<td>{{totalsywifiul}}({{lastwifisy.UL}})</td>
					{% endfor %}
					{% for lastwifigb in lastwifigb %}
					<td>{{totalgbwifiul}}({{lastwifigb.UL}})</td>
					{% endfor %}
				</tr>
	
			</tbody>
		</table>
	</div>
</br>
	<div>
		
		<h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;센터별(지하철 제외)</h3>
	</div>

	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">구분</th>
					<th colspan="2">서울강북</th>
					<th colspan="2">강원</th>
					<th colspan="2">경기북부</th>
					<th colspan="2">서울강남</th>
					<th colspan="2">경기남부</th>
					<th colspan="2">경기서부</th>
					<th colspan="2">부산</th>
				</tr>
				<tr>
					
					<th>상용</th>
					<th>개방</th>
					
					<th>상용</th>
					<th>개방</th>

					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					
					<th>상용</th>
					<th>개방</th>

					<th>상용</th>
					<th>개방</th>

					<th>상용</th>
					<th>개방</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					
					<td>DL</td>
					{% for i in wificenterdl %}
					<td>{{i}}</td>
				
					
					{% endfor %}
				</tr>
					
					
				<tr>
					<td>UL</td>
					{% for i in wificenterul %}
					<td>{{i}}</td>
					
					
					{% endfor %}
				</tr>
				
			</tbody>
		</table>
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">구분</th>
					<th colspan="2">경남</th>
					<th colspan="2">대구</th>
					<th colspan="2">경북</th>
					<th colspan="2">전남</th>
					<th colspan="2">전북</th>
					<th colspan="2">충남</th>
					<th colspan="2">충북</th>
				</tr>
				<tr>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
					<th>상용</th>
					<th>개방</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>DL</td>
					{% for i in wificenterdl2 %}
					<td>{{i}}</td>
					
					{% endfor %}
				</tr>
				<tr>
					<td>UL</td>
					{% for i in wificenterul2 %}
					<td>{{i}}</td>
					
					{% endfor %}
				</tr>
			</tbody>
		</table>
	</div>
</br>
	<div>
		
		<h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;지역별(지하철 객차)</h3>
	</div>

	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan>구분<br/>('21년 결과)</th>
					<th colspan>계</th>
					<th colspan>수도권</th>
					<th colspan>부산</th>
					<th colspan>대구</th>
					<th colspan>광주</th>
					<th colspan>대전</th>
				</tr>
				
			</thead>
			<tbody>
				<tr>
					
					<td>DL(Mbps)</td>
					{% load index %}
					{% for wifitraindl in wifitraindl %}
					<td>{{wifitraindl}}({{wifitrainlastdl|index:forloop.counter0}})</td>
					{% endfor %}
					
				</tr>
				<tr>
					<td>UL(Mbps)</td>
					{% load index %}
					{% for wifitrainul in wifitrainul %}
					<td>{{wifitrainul}}({{wifitrainlastul|index:forloop.counter0}})</td>
					{% endfor %}
					
				</tr>
	  
			</tbody>
		</table>
	</div>

</div>
</div>
<br>
<br>
<br>
	<br>
	<br>
	<hr class="one">
	<br>
	<br>
	<br>
	<br>
<br>
<div class="page5" id="page5">
<div>
	<h2>□ 별첨. 금일</h2><h2 id="today_m/d"></h2><h2> 측정 결과 세부내역</h2> 
	<br><h3>&nbsp;&nbsp;○ 5G :</h3><h3 id="5gtodaynsatotal"></h3><h3 id="5gtodaynsahjd"></h3><h3 id="5gtodaynsada"></h3><h3 id="5gtodaynsagyo"></h3><h3 id="5gtodaysatotal"></h3>
	<script>
		
		if('{{tregi5Gnsatotal}}'>0){
			document.getElementById("5gtodaynsatotal").innerHTML = "NSA " + '{{tregi5Gnsatotal}}' + "개(";
		}else{
			document.getElementById("5gtodaynsatotal").innerHTML = "("
		}
		if('{{tregi5Ghjd}}'>0){
			document.getElementById("5gtodaynsahjd").innerHTML = "행정동 " + '{{tregi5Ghjd}}' + "개 ";
		}else{
			document.getElementById("5gtodaynsahjd").innerHTML = ""
		}
		if('{{tregi5Gda}}'>0){
			document.getElementById("5gtodaynsada").innerHTML = "다중이용시설 " + '{{tregi5Gda}}' + "개 ";
		}else{
			document.getElementById("5gtodaynsada").innerHTML = ""
		}
		if('{{tregi5Ggyo}}'>0){
			document.getElementById("5gtodaynsagyo").innerHTML = "교통인프라 " + '{{tregi5Ggyo}}' + "개) ";
		}else{
			document.getElementById("5gtodaynsagyo").innerHTML = ")";
		}
		if('{{tregi5Gsatotal}}'>0){
			document.getElementById("5gtodaysatotal").innerHTML = "SA " + '{{tregi5Gsatotal}}' + "개";
		}else{
			document.getElementById("5gtodaysatotal").innerHTML = ""
		}
		
	</script>
	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">센터</th>
					<th rowspan="2">구분</th>
					<th colspan="2">지역명</th>
					<th colspan="2">속도(Mbps)</th>
					<th colspan="2">LTE전환율(%)</th>
					<th colspan="2">'21 S-CXI 속도(K/S/L)</th>
				</tr>
				<tr>
					<th>시도</th>
					<th>측정 지역</th>
					<th>DL</th>
					<th>UL</th>
					<th>DL</th>
					<th>UL</th>
					<th>DL</th>
					<th>UL</th>
				</tr>
				
			</thead>
			<tbody>
				{% for tresult5g in tresult5g %}
				<tr>
					<td>{{tresult5g.center}}</td>
					<td>{{tresult5g.mopho}}</td>
					<td>{{tresult5g.district}}</td>
					<td>{{tresult5g.userInfo1}}</td>
					<td>{{tresult5g.downloadBandwidth}}</td>
					<td>{{tresult5g.uploadBandwidth}}</td>
					<td>{{tresult5g.dl_nr_percent}}</td>
					<td>{{tresult5g.ul_nr_percent}}</td>
					<td id="nullcheck5gdl">{{tresult5g.ktlastdl}}/{{tresult5g.sktlastdl}}/{{tresult5g.lglastdl}}</td>
					<td id="nullcheck5gul">{{tresult5g.ktlastul}}/{{tresult5g.sktlastul}}/{{tresult5g.lglastul}}</td>
					<script>
						if('{{tresult5g.ktlastdl}}' == "None"){
							document.getElementById("nullcheck5gdl").innerText="-"
						}
						if('{{tresult5g.ktlastul}}' == "None"){
							document.getElementById("nullcheck5gul").innerText="-"
						}
					</script>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
<br>					
</div>
<div>
	
	<br><h3>&nbsp;&nbsp;○ LTE :</h3><h3 id="ltetodaytotal"></h3><h3 id="ltetodayhjd"></h3><h3 id="ltetodayib"></h3><h3 id="ltetodaytm"></h3>
	<script>
		
		if('{{tregiLTEtotal}}'>0){
			document.getElementById("ltetodaytotal").innerHTML = '{{tregiLTEtotal}}' + "개(";
		}else{
			document.getElementById("ltetodaytotal").innerHTML = "("
		}
		if('{{tregiLTEbct}}+{{tregiLTEmct}}+{{tregiLTEsct}}'>0){
			document.getElementById("ltetodayhjd").innerHTML = "행정동 " + '{{tregiLTEbct}}+{{tregiLTEmct}}+{{tregiLTEsct}}' + "개 ";
		}else{
			document.getElementById("ltetodayhjd").innerHTML = ""
		}
		if('{{tregiLTEib}}'>0){
			document.getElementById("ltetodayib").innerHTML = "인빌딩 " + '{{tregiLTEib}}' + "개 ";
		}else{
			document.getElementById("ltetodayib").innerHTML = ""
		}
		if('{{tregiLTEtm}}'>0){
			document.getElementById("ltetodaytm").innerHTML = "테마 " + '{{tregiLTEtm}}' + "개) ";
		}else{
			document.getElementById("ltetodaytm").innerHTML = ")";
		}
		
		
	</script>
	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">센터</th>
					<th rowspan="2">구분</th>
					<th colspan="2">지역명</th>
					<th colspan="2">속도(Mbps)</th>
					<th colspan="2">'21 S-CXI 속도(K/S/L)</th>
				</tr>
				<tr>
					<th>시도</th>
					<th>측정 지역</th>
					<th>DL</th>
					<th>UL</th>
					<th>DL</th>
					<th>UL</th>
				</tr>
				
			</thead>
			<tbody>
				{% for tresultlte in tresultlte %}
				<tr>
					<td>{{tresultlte.center}}</td>
					<td>{{tresultlte.mopho}}</td>
					<td>{{tresultlte.district}}</td>
					<td>{{tresultlte.userInfo1}}</td>
					<td>{{tresultlte.downloadBandwidth}}</td>
					<td>{{tresultlte.uploadBandwidth}}</td>
					<td id="nullcheckltedl">{{tresultlte.ktlastdl}}/{{tresultlte.sktlastdl}}/{{tresultlte.lglastdl}}</td>
					<td id="nullchecklteul">{{tresultlte.ktlastul}}/{{tresultlte.sktlastul}}/{{tresultlte.lglastul}}</td>
					<script>
						if('{{tresultlte.ktlastdl}}' == "None"){
							document.getElementById("nullcheckltedl").innerText="-"
						}
						if('{{tresultlte.ktlastul}}' == "None"){
							document.getElementById("nullchecklteul").innerText="-"
						}
					</script>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
<br>					
</div>
<div>
	<br><h3>&nbsp;&nbsp;○ 품질취약지역: </h3><h3 id="weaktodaytotal"></h3><h3 id="weaktodaydsr"></h3><h3 id="weaktodayyghr"></h3><h3 id="weaktodayyids"></h3><h3 id="weaktodayhadr"></h3>
	
	<script>
		
		if('{{tregiweaktotal}}'>0){
			document.getElementById("weaktodaytotal").innerHTML = '{{tregiweaktotal}}' + "개(";
		}else{
			document.getElementById("weaktodaytotal").innerHTML = "("
		}
		if('{{tregiweakdsr}}'>0){
			document.getElementById("weaktodaydsr").innerHTML = "등산로 " + '{{tregiweakdsr}}' + "개 ";
		}else{
			document.getElementById("weaktodaydsr").innerHTML = ""
		}
		if('{{tregiweakyghr}}'>0){
			document.getElementById("weaktodayyghr").innerHTML = "해상로 " + '{{tregiweakyghr}}' + "개 ";
		}else{
			document.getElementById("weaktodayyghr").innerHTML = ""
		}
		if('{{tregiweakyids}}'>0){
			document.getElementById("weaktodayyids").innerHTML = "도서 " + '{{tregiweakyids}}' + "개 ";
		}else{
			document.getElementById("weaktodayyids").innerHTML = "";
		}
		if('{{tregiweakhadr}}'>0){
			document.getElementById("weaktodayhadr").innerHTML = "해안도로 " + '{{tregiweakhadr}}' + "개) ";
		}else{
			document.getElementById("weaktodayhadr").innerHTML = ")";
		}
		
		
	</script>
	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">센터</th>
					<th rowspan="2">구분</th>
					<th rowspan="2">측정지역</th>
					<th colspan="2">통화성공율(%)</th>
					<th colspan="2">전송성공율(%)</th>
				</tr>
				<tr>
					
					<th>VoLTE</th>
					<th>3G</th>
					<th>LTE</th>
					<th>3G</th>
					
				</tr>
				
			</thead>
			<tbody>
				
				
			
			{% for todayweak in todayweak %}
				<tr>
					<td>{{todayweak.0}}</td>
					<td>{{todayweak.1}}</td>
					<td>{{todayweak.2}}</td>
					<td>{{todayweak.3}}</td>
					<td>{{todayweak.4}}</td>
					<td>{{todayweak.5}}</td>
					<td>{{todayweak.6}}</td>	
				</tr>
			{% endfor %}	
				
				
			</tbody>
		</table>
	</div>
<br>					
</div>		
<div>
	<br><h3>&nbsp;&nbsp;○ WiFi: </h3><h3 id="wifitodaytotal"></h3><h3 id="wifitodaysy"></h3><h3 id="wifitodaygb"></h3>

	<script>
		
		if('{{tregiWiFitotal}}'>0){
			document.getElementById("wifitodaytotal").innerHTML = '{{tregiWiFitotal}}' + "개(";
		}else{
			document.getElementById("wifitodaytotal").innerHTML = "("
		}
		if('{{tregiWiFisy}}'>0){
			document.getElementById("wifitodaysy").innerHTML = "상용 " + '{{tregiWiFisy}}' + "개 ";
		}else{
			document.getElementById("wifitodaysy").innerHTML = ""
		}
		if('{{tregiWiFigb}}'>0){
			document.getElementById("wifitodaygb").innerHTML = "개방 " + '{{tregiWiFigb}}' + "개) ";
		}else{
			document.getElementById("wifitodaygb").innerHTML = ")"
		}
		
	</script>
	<div id="output1">
		<table id="5Ghh">
			<thead>
				<tr>
					<th rowspan="2">센터</th>
					<th rowspan="2">구분</th>
					<th rowspan="2">측정국소</th>
					<th colspan="2">속도(Mbps)</th>
					<th rowspan="2">비고</th>	
				</tr>
				<tr>
					<th>DL</th>
					<th>UL</th>	
				</tr>
			</thead>
			<tbody>
				{% for tresultwifi in tresultwifi %}
				<tr>
					<td>{{tresultwifi.center}}</td>
					<td>{{tresultwifi.mopho}}</td>
					<td>{{tresultwifi.userInfo1}}</td>
					<td>{{tresultwifi.downloadBandwidth}}</td>
					<td>{{tresultwifi.uploadBandwidth}}</td>
					<td id="nullcheck">{{tresultwifi.subadd}}</td>
					<script>
						if('{{tresultwifi.subadd}}' == "None"){
							document.getElementById("nullcheck").innerText = "-"
						}
					</script>
				</tr>
				{% endfor %}
				
			</tbody>
		</table>
	</div>
<br>					
</div>
















</div>
	</div>		
</div>	
</div>
</div>	
</div>
</div>
</div>
</body>

{% endblock %}
{% block extra-script %}
<!-- 자바스크립트 호출 -->

{% csrf_token %}
<script src="https://unpkg.com/vue@2.4.2"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>


<script type="text/javascript" defer src="{% static "js/html2canvas.js" %}"></script>

<script>

$(document).ready(function() {
	// //드래그 가능 기능 
	// $('#meassituation').sortable({
		
		
	// });
	// 레포트메세지 입력 복사
	$('#textmod1').keyup(function(){
		let text1 = $("#textmod1").val();
		$("#textmod1copy").val(text1);
	});
	$('#textmod2').keyup(function(){
		let text2 = $("#textmod2").val();
		$("#textmod2copy").val(text2);
	});
	$('#textmod3').keyup(function(){
		let text3 = $("#textmod3").val();
		$("#textmod3copy").val(text3);
	});
	$('#textmod4').keyup(function(){
		let text4 = $("#textmod4").val();
		$("#textmod4copy").val(text4);
	});
	$('#textmod5').keyup(function(){
		let text5 = $("#textmod5").val();
		$("#textmod5copy").val(text5);
	});
	$('#textmod6').keyup(function(){
		let text6 = $("#textmod6").val();
		$("#textmod6copy").val(text6);
	});
	// 체크박스 항목 보이기/숨기기
	$('#meas1').change(function(){
    	if($(this).is(":checked")){
			$("#meassituation").show();
		} else {
			$("#meassituation").hide();
		}

	});
	$('#meas11').change(function(){
    	if($(this).is(":checked")){
			$("#meassituation5G").show();
		} else {
			$("#meassituation5G").hide();
		}

	});
	$('#meas12').change( function(){
    	if($(this).is(":checked")){
			$("#meassituationLTE").show();
		} else {
			$("#meassituationLTE").hide();
		}

	});
	$('#meas13').change( function(){
    	if($(this).is(":checked")){
			$("#meassituationWiFi").show();
		} else {
			$("#meassituationWiFi").hide();
		}

	});
	$('#meas14').change( function(){
    	if($(this).is(":checked")){
			$("#meassituationweak").show();
		} else {
			$("#meassituationweak").hide();
		}

	});
	
	$('#meas2').change( function(){
		if($(this).is(":checked")){
				$("#measresult").show();
		} else {
				$("#measresult").hide();
		}

	});
	$('#meas21').change( function(){
		if($(this).is(":checked")){
				$("#measresult5G").show();
		} else {
				$("#measresult5G").hide();
		}

	});
	$('#meas24').change( function(){
		if($(this).is(":checked")){
				$("#measresultpost5G").show();
		} else {
				$("#measresultpost5G").hide();
		}

	});
	$('#meas22').change( function(){
		if($(this).is(":checked")){
				$("#measresultLTE").show();
		} else {
				$("#measresultLTE").hide();
		}

	});
	$('#meas25').change( function(){
		if($(this).is(":checked")){
				$("#measresultpostLTE").show();
		} else {
				$("#measresultpostLTE").hide();
		}

	});
	
	$('#meas23').change( function(){
		if($(this).is(":checked")){
				$("#measresultWiFi").show();
		} else {
				$("#measresultWiFi").hide();
		}

	});
	$('#meas3').change( function(){
		if($(this).is(":checked")){
				$("#measplus").show();
		} else {
				$("#measplus").hide();
		}

	});
	//사후측정데이터 null값 대비
	// if ($(".postmeasresult").value() == null){
	// 	$(".postmeasresult").text("X");
	// }else{
	// 	pass;
	// };
	

	//수정 완료 버튼 이벤트
	let textmod = ["#textmod1","#textmod2","#textmod3","#textmod4","#textmod5","#textmod6"]
	let result = ["#result1","#result2","#result3","#result4","#result5","#result6"]
	let textmodcopy = ["#textmod1copy","#textmod2copy","#textmod3copy","#textmod4copy","#textmod5copy","#textmod6copy"]
	$("#msgcomplete").hide();
	$("#postmeascomplete").hide();
	$(".postmeas5g").hide();
	$("#checkbox").hide();
	for (let i = 0; i<textmod.length; i++){
			$(textmod[i]).hide();
		}
	
	$('#msgmodify').click(function() {
		for(let i = 0; i<textmod.length; i++){
			$(textmod[i]).toggle();
		};
		for(let i = 0; i<result.length; i++){
			$(result[i]).toggle();
		};
		$("#checkbox").toggle();
		$("#cmd").toggle();
		let text1 = $("#textmod1").val();
		$("#textmod1copy").val(text1);
		let text2 = $("#textmod2").val();
		$("#textmod2copy").val(text2);
		let text3 = $("#textmod3").val();
		$("#textmod3copy").val(text3);
		let text4 = $("#textmod4").val();
		$("#textmod4copy").val(text4);
		let text5 = $("#textmod5").val();
		$("#textmod5copy").val(text5);
		let text6 = $("#textmod6").val();
		$("#textmod6copy").val(text6);
		$("#msgcomplete").toggle();
		$("#postmeasmodify").toggle();
	});
	$('#postmeasmodify').click(function() {
		// $(".postmeas5g").toggle();
		$("#postmeascomplete").toggle();
		$("#msgmodify").toggle();
		// $(".postmeasresult").toggle();
	});
	
});
</script>

<!-- 시험	 -->
<script>
	// PDF 출력 버튼 이벤트
	$('#cmd').click(
				function() {
					var doc = new jsPDF();
					var specialElementHandlers = {
						'#editor' : function(element, renderer) {
							return true;
						}
					};
					let pagenum = ['#page1','#page2','#page3', '#page4', '#page5']
					// html2canvas($('.page'), {	
					// 	onrendered : function(canvas) {
					
					
					// for(let i = 0; i<pagenum.length; i++){
					// 	html2canvas(document.querySelector(pagenum[i])).then(canvas =>{
					// 		var doc = new jsPDF("p", "mm", 'a4');
					// 		var imgData = canvas.toDataURL('jpeg', 1.0);
					// 		var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
					// 		var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
					// 		var imgHeight = canvas.height * imgWidth / canvas.width;
					// 		var heightLeft = imgHeight;
					// 		var margin = 15; // 출력 페이지 여백설정
					// 		var position = 15;	
					// 		doc.addImage(imgData, 'JPEG', margin, position, imgWidth, imgHeight-40);
					// 		doc.save('test.pdf');
					// 	});
					// }
						
					
				// });
				
						html2canvas(document.querySelector('#page1')).then(canvas =>{
							var imgData = canvas.toDataURL('jpeg', 1.0);
							var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
							var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
							var imgHeight = canvas.height * imgWidth / canvas.width;
							var heightLeft = imgHeight;
							var margin = 15; // 출력 페이지 여백설정
							var position = 15;
							var doc = new jsPDF("p", "mm", 'a4');
	
							doc.addImage(imgData, 'JPEG', margin, position, imgWidth, imgHeight);
							// heightLeft -= pageHeight;
							// 한 페이지 이상일 경우 루프 돌면서 출력
							// while (heightLeft >= 15) {
							// 	position = heightLeft - imgHeight - 40;
							// 	doc.addPage();
							// 	doc.addImage(imgData, 'JPEG', margin, position, imgWidth, imgHeight);
							// 	heightLeft -= pageHeight;
							// }
							doc.save("일일보고병합용(삭제).pdf");
						});
						html2canvas(document.querySelector('#page2')).then(canvas =>{
							var imgData2 = canvas.toDataURL('jpeg', 1.0);
							var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
							var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
							var imgHeight = canvas.height * imgWidth / canvas.width;
							var heightLeft = imgHeight;
							var margin = 15; // 출력 페이지 여백설정
							var position = 15;
							var doc = new jsPDF("p", "mm", 'a4');
							
							doc.addImage(imgData2, 'JPEG', margin, position, imgWidth, imgHeight);
							doc.save('일일보고병합용(삭제).pdf');
						});
						html2canvas(document.querySelector('#page3')).then(canvas =>{
							var imgData3 = canvas.toDataURL('jpeg', 1.0);
							var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
							var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
							var imgHeight = canvas.height * imgWidth / canvas.width;
							var heightLeft = imgHeight;
							var margin = 15; // 출력 페이지 여백설정
							var position = 15;
							var doc = new jsPDF("p", "mm", 'a4');
								
							doc.addImage(imgData3, 'JPEG', margin, position, imgWidth, imgHeight);
							doc.save('일일보고병합용(삭제).pdf');
						});
						html2canvas(document.querySelector('#page4')).then(canvas =>{
							var imgData4 = canvas.toDataURL('jpeg', 1.0);
							var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
							var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
							var imgHeight = canvas.height * imgWidth / canvas.width;
							var heightLeft = imgHeight;
							var margin = 15; // 출력 페이지 여백설정
							var position = 15;
							var doc = new jsPDF("p", "mm", 'a4');
							
							doc.addImage(imgData4, 'JPEG', margin, position, imgWidth, imgHeight);
							doc.save('일일보고병합용(삭제).pdf');
						});
							html2canvas(document.querySelector('#page5')).then(canvas =>{
							var imgData5 = canvas.toDataURL('jpeg', 1.0);
							var imgWidth = 180; // 이미지 가로 길이(mm) A4 기준
							var pageHeight = imgWidth / 210 * 297; // 출력 페이지 세로 길이 계산 A4 기준
							var imgHeight = canvas.height * imgWidth / canvas.width;
							var heightLeft = imgHeight;
							var margin = 15; // 출력 페이지 여백설정
							var position = 15;
							var doc = new jsPDF("p", "mm", 'a4');
							
							doc.addImage(imgData5, 'JPEG', margin, position, imgWidth, imgHeight);
							doc.save('일일보고병합용(삭제).pdf');
						});	
						function merge_test(){
											$.ajaxSetup({
											headers: { "X-CSRFToken": '{{csrf_token}}'}
											});
											$.ajax({
												url: "{% url 'analysis:pdf_merge' %}",
												processData: false,
												contentType: false,
												type: "POST",

												//data : formData,
												success: function() {
													alert("일일보고서 생성 성공");
													//location.reload();
												},
												error: function() {
													alert("일일보고서 생성 실패");
												},
										});

						};
						setTimeout(function(){merge_test()},10000);
					    
					
				});
	
	
</script>
<!-- 테스트 사이드바 -->
<script>
$(document).ready(function () {
    $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active');
        $(this).toggleClass('active');
		$('#indentsidebar').toggle();
		$('#outdentsidebar').toggle();
    });
	
	
	

});

  
    $('#report_nav').addClass('nav-item active');
	$('#dashboard_nav').removeClass('nav-item active');
	$('#dashboard_nav').addClass('nav-item');
	
</script>
<!-- 리포트데이터 -->
<script>
//그래프 퍼센트 데이터
var plan5gnsahjd = parseInt(document.getElementById("plan5gnsahjd").outerText);
var plan5gnsadg = parseInt(document.getElementById("plan5gnsadg").outerText);
var plan5gnsatotal = parseInt(
  document.getElementById("plan5gnsatotal").outerText
);
var plan5gsa = parseInt(document.getElementById("plan5gsa").outerText);
var plan5gpublic = parseInt(document.getElementById("plan5gpublic").outerText);

var planltebct = parseInt(document.getElementById("planltebct").outerText);
var planltemct = parseInt(document.getElementById("planltemct").outerText);
var planltesct = parseInt(document.getElementById("planltesct").outerText);
var planlteib = parseInt(document.getElementById("planlteib").outerText);
var planltetm = parseInt(document.getElementById("planltetm").outerText);

var planwifisy = parseInt(document.getElementById("planwifisy").outerText);
var planwifigb = parseInt(document.getElementById("planwifigb").outerText);
var planweakdsr = parseInt(document.getElementById("planweakdsr").outerText);
var planweakyghr = parseInt(document.getElementById("planweakyghr").outerText);
var planweakyids = parseInt(document.getElementById("planweakyids").outerText);
var planweakhadr = parseInt(document.getElementById("planweakhadr").outerText);
var meas5gnsahjd = parseInt(document.getElementById("meas5gnsahjd").outerText);
var meas5gnsadg = parseInt(document.getElementById("meas5gnsadg").outerText);
var meas5gnsatotal = parseInt(document.getElementById("meas5gnsatotal").outerText);
var meas5gsa = parseInt(document.getElementById("meas5gsa").outerText);
var meas5gpublic = parseInt(document.getElementById("meas5gpublic").outerText);

var resultltebct = parseInt(document.getElementById("resultltebct").outerText);
var resultltemct = parseInt(document.getElementById("resultltemct").outerText);
var resultltesct = parseInt(document.getElementById("resultltesct").outerText);
var resultlteib = parseInt(document.getElementById("resultlteib").outerText);
var resultltetm = parseInt(document.getElementById("resultltetm").outerText);

var resultwifisy = parseInt(document.getElementById("resultwifisy").outerText);
var resultwifigb = parseInt(document.getElementById("resultwifigb").outerText);
var resultweakdsr = parseInt(document.getElementById("resultweakdsr").outerText);
var resultweakyghr = parseInt(document.getElementById("resultweakyghr").outerText);
var resultweakyids = parseInt(document.getElementById("resultweakyids").outerText);
var resultweakhadr = parseInt(document.getElementById("resultweakhadr").outerText);

document.getElementById("meas5gnsahjd").innerHTML =
  meas5gnsahjd + "(" + ((meas5gnsahjd / plan5gnsahjd) * 100).toFixed(0) + "%)";
document.getElementById("meas5gnsadg").innerHTML =
  meas5gnsadg + "(" + ((meas5gnsadg / plan5gnsadg) * 100).toFixed(0) + "%)";
document.getElementById("meas5gnsatotal").innerHTML =
  meas5gnsatotal + "(" + ((meas5gnsatotal / plan5gnsatotal) * 100).toFixed(0) + "%)";
document.getElementById("meas5gsa").innerHTML =
  meas5gsa + "(" + ((meas5gsa / plan5gpublic) * 100).toFixed(0) + "%)";
document.getElementById("meas5gpublic").innerHTML =
  meas5gpublic + "(" + ((meas5gpublic / plan5gsa) * 100).toFixed(0) + "%)";

document.getElementById("resultltebct").innerHTML =
  resultltebct + "(" + ((resultltebct / planltebct) * 100).toFixed(0) + "%)";
document.getElementById("resultltemct").innerHTML =
  resultltemct + "(" + ((resultltemct / planltemct) * 100).toFixed(0) + "%)";
document.getElementById("resultltesct").innerHTML =
  resultltesct + "(" + ((resultltesct / planltesct) * 100).toFixed(0) + "%)";
document.getElementById("resultlteib").innerHTML =
  resultlteib + "(" + ((resultlteib / planlteib) * 100).toFixed(0) + "%)";
document.getElementById("resultltetm").innerHTML =
  resultltetm + "(" + ((resultltetm / planltetm) * 100).toFixed(0) + "%)";

document.getElementById("resultwifisy").innerHTML =
  resultwifisy + "(" + ((resultwifisy / planwifisy) * 100).toFixed(0) + "%)";
document.getElementById("resultwifigb").innerHTML =
  resultwifigb + "(" + ((resultwifigb / planwifigb) * 100).toFixed(0) + "%)";
document.getElementById("resultweakdsr").innerHTML =
  resultweakdsr + "(" + ((resultweakdsr / planweakdsr) * 100).toFixed(0) + "%)";
document.getElementById("resultweakyghr").innerHTML =
  resultweakyghr + "(" + ((resultweakyghr / planweakyghr) * 100).toFixed(0) + "%)";
document.getElementById("resultweakyids").innerHTML =
  resultweakyids + "(" + ((resultweakyids / planweakyids) * 100).toFixed(0) + "%)";
document.getElementById("resultweakhadr").innerHTML =
  resultweakhadr + "(" + ((resultweakhadr / planweakhadr) * 100).toFixed(0) + "%)";

// 리포트데이터 정제
var plan5gtotal = parseInt(document.getElementById("plan5gtotal").outerText);
var planltetotal = parseInt(document.getElementById("planltetotal").outerText);
var planwifitotal = parseInt(document.getElementById("planwifitotal").outerText);
var planweaktotal = parseInt(document.getElementById("planweaktotal").outerText);
var meas5gtotal = parseInt(document.getElementById("meas5gtotal").outerText);
var measltetotal = parseInt(document.getElementById("measltetotal").outerText);
var measwifitotal = parseInt(document.getElementById("measwifitotal").outerText);
var measweaktotal = parseInt(document.getElementById("measweaktotal").outerText);

document.getElementById("tt1").innerHTML = plan5gtotal + "개 지역 중";
document.getElementById("tt2").innerHTML = planltetotal + "개 지역 중";
document.getElementById("tt3").innerHTML = planwifitotal + "개 지역 중";
document.getElementById("tt4").innerHTML = planweaktotal + "개 지역 중";
document.getElementById("pc1").innerHTML =
  "(" + ((meas5gtotal / plan5gtotal) * 100).toFixed(2) + "%)";
document.getElementById("pc2").innerHTML =
  "(" + ((measltetotal / planltetotal) * 100).toFixed(2) + "%)";
document.getElementById("pc3").innerHTML =
  "(" + ((measwifitotal / planwifitotal) * 100).toFixed(2) + "%)";
document.getElementById("pc4").innerHTML =
  "(" + ((measweaktotal / planweaktotal) * 100).toFixed(2) + "%)";
document.getElementById("tt").innerHTML =
plan5gtotal + planltetotal + planwifitotal + planweaktotal + "개";
document.getElementById("ttf").innerHTML =
  meas5gtotal + measltetotal + measwifitotal + measweaktotal + "개";
document.getElementById("pcf").innerHTML =
  "(진도율:" +
  (
    ((meas5gtotal + measltetotal + measwifitotal + measweaktotal) /
      (plan5gtotal + planltetotal + planwifitotal + planweaktotal)) *
    100
  ).toFixed(0) +
  "%)";

// 리포트 날짜
// date = new Date();
// year = date.getFullYear();
// month = date.getMonth() + 1;
// day = date.getDate();
let today = String(new Date());
date = '{{report_day}}';
year = date.substr(0, 4);
month = date.substr(4, 2);
day = date.substr(6, 2);
document.getElementById("current_date").innerHTML =year + "." + month + "." + day;
// document.getElementById("reportdate").value = today;
document.getElementById("today_m/d").innerHTML ="(" + month + "." + day + "일)";
date1 = "{{report_firstday}}";
year1 = date1.substr(0, 4);
month1 = date1.substr(4, 2);
day1 = date1.substr(6, 2);
document.getElementById("firstdate").innerHTML ="(" + month1 + "." + day1 + "~";
document.getElementById("lastdate").innerHTML = month + "." + day + ")";



</script>

{% endblock %}