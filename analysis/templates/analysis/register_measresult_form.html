{% extends "analysis/base.html" %}
{% load static %}
{% block extra-style %}
<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="{% static "css/nav.css" %}">

<!-- 부트스트랩 -->
<link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/sticky-footer-navbar.css">
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<!-- CSS,JS 호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/A4.css" %}">
<!-- CSS호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/report.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/modal.css" %}">
<!-- 아이콘 -->

<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<style>
    #btnzone{
        border-radius:0px 0px 10px 10px;
        right:100px; 
        border: 1px solid rgba(183, 180, 180, 0.839); 
        background-color: white; 
        width:280px; 
        text-align:center; 
        position:fixed; 
        margin-top:-15px; 
        padding:5px; 
        z-index:10; 
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    } 
    button{
	    display:inline;
	    margin-left:10px;
}
</style>
    <!-- 스타일 -->
<style>
    p{
        font-size: 15px;
        display: inline;
        text-align:center;
    }
    input{
        font-size: 15px;
        display: inline;
        text-align: center;
            
    }
    td{
        text-align:center;
        height:40px;
    }
</style>
<!-- 테스트사이드바 -->
<style>

	.wrapper {
		display: flex;
		align-items: stretch;
        position:fixed;
	}
	
	#sidebar {
		min-width: 250px;
		max-width: 250px;
		min-height: 100vh;
	}
	
	#sidebar.active {
		margin-left: -250px;
	}
	a[data-toggle="collapse"] {
		position: relative;
	}
	
	.dropdown-toggle::after {
		display: block;
		position: absolute;
		top: 50%;
		right: 20px;
		transform: translateY(-50%);
	}
	@media (max-width: 768px) {
		#sidebar {
			margin-left: -250px;
		}
		#sidebar.active {
			margin-left: 0;
		}
	}
	@import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";
	
	
	body {
		font-family: 'Poppins', sans-serif;
		background: #fafafa;
	}
	
	/* p {
		font-family: 'Poppins', sans-serif;
		font-size: 1.1em;
		font-weight: 300;
		line-height: 1.7em;
		color: #999;
	} */
	
	a, a:hover, a:focus {
		color: inherit;
		text-decoration: none;
		transition: all 0.3s;
	}
	
	#sidebar {
		/* don't forget to add all the previously mentioned styles here too */
		background: rgb(164, 164, 164);
		color: #fff;
		transition: all 0.3s;
	}
	
	#sidebar .sidebar-header {
		padding: 20px;
		background: #212529;
	}
	
	#sidebar ul.components {
		padding: 20px 0;
		/* border-bottom: 1px solid #47748b; */
	}
	
	#sidebar ul p {
		color: #fff;
		padding: 10px;
	}
	
	#sidebar ul li a {
		padding: 10px;
		font-size: 1.1em;
		display: block;
	}
	#sidebar ul li a:hover {
		color: #8d8e93;
		background: #fff;
	}
	
	#sidebar ul li.active > a, a[aria-expanded="true"] {
		color: #fff;
		background: rgb(164, 164, 164);
	}
	ul ul a {
		font-size: 0.9em !important;
		padding-left: 30px !important;
		background: grey;
	}
	</style>

{% endblock %}
{% block contents %}

<body>
    
   
<!-- 메인화면 -->
<div  style="display:flex; flex-flow: row nowrap;">
    <!-- 테스트 사이드바 -->


<div class="wrapper">
    
	<!-- Sidebar -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <h2>일일보고</h2>
        </div>

        <ul class="list-unstyled components">
            <li>
                <a href="http://127.0.0.1:8000/analysis/report/">일일보고</a>
            </li>
			<li>
                <a href="http://127.0.0.1:8000/analysis/report/list/">일일보고 목록</a>
            </li>
			<li class="active">
                <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">일일보고 관리</a>
                <ul class="collapse list-unstyled" id="homeSubmenu">
                    <li>
                        <a href="http://127.0.0.1:8000/analysis/report/measplan/">측정대상등록</a>
                    </li>
                    <li>
                        <a href="http://127.0.0.1:8000/analysis/report/measresult/">측정완료현황</a>
                    </li>
                    <li>
                        <a href="http://127.0.0.1:8000/analysis/report/postmeas/">사후측정등록</a>
                    </li>
                </ul>
            </li>
            
            <!-- <li>
                <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Pages</a>
                <ul class="collapse list-unstyled" id="pageSubmenu">
                    <li>
                        <a href="#">Page 1</a>
                    </li>
                    <li>
                        <a href="#">Page 2</a>
                    </li>
                    <li>
                        <a href="#">Page 3</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">Portfolio</a>
            </li>
            <li>
                <a href="#">Contact</a>
            </li> -->
        </ul>
    </nav>
	<div id="content">

		<nav class="navbar navbar-expand-lg">
			<div class="container-fluid">
	
				<button type="button" id="sidebarCollapse" class="btn btn-primary">
					<i class="fas fa-align-left"></i>
					<span></span>
				</button>
			</div>
		</nav>
	</div>
</div>

<div id="blank" style="width:250px;"></div>

<div id="show1" style="margin:20px;border: 1px solid rgb(228, 223, 223); padding: 10px; width:80%;">
    <!-- <div id="search zone" style="text-align: right;">
        <input type="search" class="form-control" style="width:200px;display:inline;"></input>
        <button class="btn btn-primary" style="display:inline;" type="submit">검색</button>
    </div></br> -->
    <div id="search zone" style="text-align: right;">
        <input type="search" class="form-control" style="width:200px;display:inline;"></input>
        <button class="btn btn-primary" style="display:inline;" type="button" >날짜 검색</button>
    </div></br>
    <div id="output" style="text-align: center;">
        <table id="5Ghh" class="table table-hover table-bordered ">
            <thead class="bg-light" id="cloasdata-header">
                <tr>
                    <th>날짜</th>
                    <th>측정명</th>
                    <th>구분</th>
                    <th>지역</th>
                    <th>모폴로지</th>
                    <th>상세정보</th>
                    <th>DL</th>
                    <th>UL</th>
                    <th>LTE전환율</th>
                    <th>전송성공율</th>
                    <th>접속</th>
                    <th>지연</th>
                    <th>추가사항</th>
                    
                </tr>
            </thead>
            <tbody id="closedata-body">
                <form action="{% url 'analysis:create_measresult' %}" method="POST" style="display:inline;" id="measresult">{% csrf_token %}
                {% for measclose in measclose %}
                
                <tr v-for="measclose in measclose">
                    <input type = 'text' style="display:none;" name="phoneGroup_id" value="{{measclose.phoneGroup_id}}"></input>
                    <!-- <td style="width:5%"><p>{{measclose.measdate}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="measdate" id="textmod1" value="{{measclose.measdate}}"></input></td>
                    <td style="width:15%"><p>{{measclose.userInfo1}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="userInfo1" id="textmod2" value="{{measclose.userInfo1}}"></input></td> 
                    <td style="width:5%"><p>{{measclose.networkId}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="networkId" id="textmod3" value="{{measclose.networkId}}"></input></td>
                    <td style="width:5%"><p>{{measclose.district}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="district" id="textmod4" value="{{measclose.district}}"></input></td>
                    <td style="width:5%"><p>{{measclose.mopo}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="mopo" id="textmod5" value="{{measclose.mopo}}"></input></td>
                    <td style="width:5%"><p>{{measclose.address}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="address" id="textmod7" value="{{measclose.address}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.downloadBandwidth}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="downloadBandwidth" id="textmod6" value="{{measclose.downloadBandwidth}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.uploadBandwidth}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="uploadBandwidth" id="textmod7" value="{{measclose.uploadBandwidth}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.lte_percent}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="lte_percent" id="textmod7" value="{{measclose.lte_percent}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.success_rate}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="success_rate" id="textmod7" value="{{measclose.success_rate}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.connect_time}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="connect_time" id="textmod7" value="{{measclose.connect_time}}"></input></td>
                    <td style="width:5%"><p>{{measclose.udpJitter}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="udpJitter" id="textmod7" value="{{measclose.udpJitter}}"></input></td>
                    <td style="width:5%"><p>{{measclose.plus}}</p> <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="plus" id="textmod7" value="{{measclose.plus}}"></input></td> -->
                    <td style="width:5%">{{measclose.measdate}}</td>
                    <td style="width:15%">{{measclose.userInfo1}}</td> 
                    <td style="width:5%">{{measclose.networkId}}</td>
                    <td style="width:5%" v-on:dblclick="doubleclickdistrict(measclose)"data-toggle="tooltip" data-placement="top" class="tooltip-primary text-center"
                    title="마우스로 더블클릭하면 지역을 변경할 수 있습니다."><p id="currentdistrict">{{measclose.district}}</p>
                    <input style="display:inline; width:110%;height:20px" class="form-control mod" type="text" name="district" id="inputdistrict" value="{{measclose.district}}"></input></td>
                    <td style="width:5%" v-on:dblclick="doubleclickmopo(measclose)"
                    data-toggle="tooltip" data-placement="top" class="tooltip-primary text-center"
                    title="마우스로 더블클릭하면 모폴로지를 변경할 수 있습니다.">{{measclose.mopo}}</td>
                    <td style="width:5%"v-on:dblclick="doubleclickaddress(measclose)"
                    data-toggle="tooltip" data-placement="top" class="tooltip-primary text-center"
                    title="마우스로 더블클릭하면 상세지역을 변경할 수 있습니다.">{{measclose.address}}</td>
                    <td style="width:5%">{{measclose.downloadBandwidth}}</td>
                    <td style="width:5%">{{measclose.uploadBandwidth}}</td>
                    <td style="width:5%">{{measclose.lte_percent}}</td>
                    <td style="width:5%">{{measclose.success_rate}}</td>
                    <td style="width:5%">{{measclose.connect_time}}</td>
                    <td style="width:5%">{{measclose.udpJitter}}</td>
                    <td style="width:5%"v-on:dblclick="doubleclickplus(measclose)"
                    data-toggle="tooltip" data-placement="top" class="tooltip-primary text-center"
                    title="마우스로 더블클릭하면 기타사항을 변경할 수 있습니다.">{{measclose.plus}}</td>
                </form>
                    
                    
               
               </tr>
              
                
            </div>
            {% endfor %}
        
            </tbody>
        </table>
    </div>
</div>
</body>
{% endblock %}
{% block extra-script %}

{% csrf_token %}
<script src="https://unpkg.com/vue@2.4.2"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

<!-- 테스트 사이드바 -->
<script>
    $(document).ready(function () {
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
            $(this).toggleClass('active');
        });
    });
    $('#report_nav').addClass('nav-item active');
	$('#dashboard_nav').removeClass('nav-item active');
	$('#dashboard_nav').addClass('nav-item');
    </script>
<!-- <script>
// 수정 완료 이벤트
$(document).ready(function() {
	var arr = ['#textmod1','#textmod2','#textmod3','#textmod4','#textmod5','#textmod6','#textmod7','#textmod8','#textmod9','#textmod10','#textmod11','#textmod12','#textmod13',
    '#textmod14','#textmod15','#textmod16','#textmod17','#textmod18','#textmod19'];
    $('.mod').hide();
    $('.complete').hide();


});

</script> -->
<script>


/*
* @description 사용자 정보 수정
*/
// function onClickUpdate(){	
// 	$('.complete').toggle();
//     $('.measdelete').toggle();
// 	var targetBtn = event.target;
// 	var parentTr = targetBtn.parentNode.parentNode;
// 	var tdNode = parentTr.childNodes;
// 	var row = document.querySelectorAll('.updateRow')
  
// 	parentTr.className = "updateRow";
//     $('.updateRow').find('.mod').toggle();
//     $('.updateRow').find('p').toggle();	
// 	parentTr.classList.remove("updateRow");	
	
// }
</script>
<script>
const vm = new Vue({
    methods: {
        // 마감데이터 더블클릭 수정
        doubleclickdistrict(measclose) {
            $("#inputdistrict").toggle();
            $("#currentdistrict").toggle();
            }
    }
});
</script>

{% endblock %}