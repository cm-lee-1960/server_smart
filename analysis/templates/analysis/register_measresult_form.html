{% extends "analysis/base.html" %}
{% load static %}
{% block extra-style %}
<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="{% static "css/nav.css" %}">
<!-- 제이쿼리 -->
<script defer src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script> 
<!-- 부트스트랩 -->
<link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/sticky-footer-navbar.css">
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<!-- CSS호출 -->
<script type="text/javascript" defer src="{% static "js/search.js" %}"></script>
<!-- pdf 출력 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<!-- CSS,JS 호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/A4.css" %}">
<script type="text/javascript" defer src="{% static "js/reportdata.js" %}"></script>
<!-- CSS호출 -->
<link rel="stylesheet" type="text/css" href="{% static "css/report.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/modal.css" %}">
<!-- 아이콘 -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<style>
    #btnzone{
        border-radius:0px 0px 10px 10px;
        right:100px; 
        border: 1px solid rgba(183, 180, 180, 0.839); 
        background-color: white; 
        width:280px; 
        text-align:center; 
        position:fixed; 
        margin-top:-15px; 
        padding:5px; 
        z-index:10; 
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    } 
    button{
	    display:inline;
	    margin-left:10px;
}
</style>
    <!-- 스타일 -->
<style>
    p{
        font-size: 15px;
        display: inline;
        text-align:center;
    }
    input{
        font-size: 15px;
        display: inline;
        text-align: center;
            
    }
    td{
        text-align:center;
        height:40px;
    }
</style>
    

{% endblock %}
{% block contents %}

<body>
    
   
<!-- 메인화면 -->
<div  style="display:flex; flex-flow: row nowrap;">
    	<!-- 사이드바 -->
	<div style="width:200px; border-right:1px solid rgb(226, 221, 221); margin-top:5px">
		<aside style="position:fixed;width:200px;">
			<nav>
				<div style="margin:40px 10px 10px 10px"> 
					<a href="http://127.0.0.1:8000/analysis/report/" style="text-decoration-line:none; text-decoration:none;color:grey;">일일보고 </a>
				</div>
				<div style="margin:10px" >
					<a href="http://127.0.0.1:8000/analysis/report/list/" style="text-decoration-line:none; text-decoration:none;color:grey">일일보고 리스트 </a>
				</div>
				<div style="margin:10px" >
				  <a href="http://127.0.0.1:8000/analysis/report/measplan/" style="text-decoration-line:none; text-decoration:none;color:grey">측정대상등록 </a>
				</div>
				<div style="margin:10px" >
					<a href="http://127.0.0.1:8000/analysis/report/measresult/" style="text-decoration-line:none; text-decoration:none;color:grey">측정완료현황</a>
				</div>  
			</nav>
		</aside>
	</div>


<div id="show1" style="margin:20px;border: 1px solid rgb(228, 223, 223); padding: 10px; width:80%;">
    <!-- <div id="search zone" style="text-align: right;">
        <input type="search" class="form-control" style="width:200px;display:inline;"></input>
        <button class="btn btn-primary" style="display:inline;" type="submit">검색</button>
    </div></br> -->
    <div id="output" style="text-align: center;">
        <table id="5Ghh" class="table table-hover table-bordered ">
            <thead class="bg-light">
                <tr>
                    <th>날짜</th>
                    <th>측정명</th>
                    <th>구분</th>
                    <th>지역</th>
                    <th>모폴로지</th>
                    <th>상세정보</th>
                    <th>DL</th>
                    <th>UL</th>
                    <th>LTE전환율</th>
                    <th>전송성공율</th>
                    <th>접속</th>
                    <th>지연</th>
                    <th>추가사항</th>
                    <th>보기/수정</th>
                </tr>
            </thead>
            <tbody>
                <form action="{% url 'analysis:create_measresult' %}" method="POST" style="display:inline;" id="measresult">{% csrf_token %}
                {% for measclose in measclose %}
                
                <tr>
                    <input type = 'text' style="display:none;" name="phoneGroup_id" value="{{measclose.phoneGroup_id}}"></input>
                    <td style="width:10%"><p>{{measclose.measdate}}</p> <input style="display:inline; width:80px;height:20px" class="form-control mod" type="text" name="measdate" id="textmod1" value="{{measclose.measdate}}"></input></td>
                    <td style="width:15%"><p>{{measclose.userInfo1}}</p> <input style="display:inline; width:250px;height:20px" class="form-control mod" type="text" name="userInfo1" id="textmod2" value="{{measclose.userInfo1}}"></input></td> 
                    <td style="width:5%"><p>{{measclose.networkId}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="networkId" id="textmod3" value="{{measclose.networkId}}"></input></td>
                    <td style="width:5%"><p>{{measclose.district}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="district" id="textmod4" value="{{measclose.district}}"></input></td>
                    <td style="width:5%"><p>{{measclose.mopo}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="mopo" id="textmod5" value="{{measclose.mopo}}"></input></td>
                    <td style="width:5%"><p>{{measclose.address}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="address" id="textmod7" value="{{measclose.address}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.downloadBandwidth}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="downloadBandwidth" id="textmod6" value="{{measclose.downloadBandwidth}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.uploadBandwidth}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="uploadBandwidth" id="textmod7" value="{{measclose.uploadBandwidth}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.lte_percent}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="lte_percent" id="textmod7" value="{{measclose.lte_percent}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.success_rate}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="success_rate" id="textmod7" value="{{measclose.success_rate}}"></input></td></td>
                    <td style="width:5%"><p>{{measclose.connect_time}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="connect_time" id="textmod7" value="{{measclose.connect_time}}"></input></td>
                    <td style="width:5%"><p>{{measclose.udpJitter}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="udpJitter" id="textmod7" value="{{measclose.udpJitter}}"></input></td>
                    <td style="width:5%"><p>{{measclose.plus}}</p> <input style="display:inline; width:50px;height:20px" class="form-control mod" type="text" name="plus" id="textmod7" value="{{measclose.plus}}"></input></td>
                    
                </form>
                    
                    <td style="width:10%">
                        <button class="btn btn-secondary btn-sm" style="display:inline;" type="button" id ="measmodify" onClick="onClickUpdate()">수정 <i class="icon-fixed-width icon-pencil"></i></button>
                        <!-- <form action="{% url 'analysis:create_measresult' %}" method="POST" style="display:inline;" id="measresult">{% csrf_token %} -->
                        <button class="btn btn-secondary btn-sm measdelete" style="display:inline;" type="submit" id = "measdelete">삭제 <i class="icon-fixed-width icon-trash"></i></button>
                        <!-- </form> -->
                        <button class="btn btn-secondary btn-sm complete" style="display:inline;" type="submit" id = "complete" form="measresult">완료 <i class="icon-fixed-width icon-check"></i></button>
                        
                    </td>
               
               </tr>
              
                
            </div>
            {% endfor %}
        
            </tbody>
        </table>
    </div>
</div>
</body>
{% endblock %}
{% block extra-script %}
<!-- 자바스크립트 호출 -->
<script defer src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>        
<script type="text/javascript" defer src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


<script>
// 수정 완료 이벤트
$(document).ready(function() {
	var arr = ['#textmod1','#textmod2','#textmod3','#textmod4','#textmod5','#textmod6','#textmod7','#textmod8','#textmod9','#textmod10','#textmod11','#textmod12','#textmod13',
    '#textmod14','#textmod15','#textmod16','#textmod17','#textmod18','#textmod19'];
    $('.mod').hide();
    $('.complete').hide();


});

</script>
<script>


/*
* @description 사용자 정보 수정
*/
function onClickUpdate(){	
	$('.complete').toggle();
    $('.measdelete').toggle();
	var targetBtn = event.target;
	var parentTr = targetBtn.parentNode.parentNode;
	var tdNode = parentTr.childNodes;
	var row = document.querySelectorAll('.updateRow')
  
	parentTr.className = "updateRow";
    $('.updateRow').find('.mod').toggle();
    $('.updateRow').find('p').toggle();	
	parentTr.classList.remove("updateRow");	
	
}





</script>

{% endblock %}