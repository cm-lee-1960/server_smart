{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>레이아웃 테스트</title>

<!-- 모달 기본 라이브러리 -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"></script>
<!-- 모달 이동 드래그 설정 -->
<script type="text/javascript" src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>

<style>
    #modal.modal-overlay {
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.25);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        backdrop-filter: blur(1.5px);
        -webkit-backdrop-filter: blur(1.5px);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.18);
    }
    #modal .modal-window {
        background: rgb(87, 220, 175);
        box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
        backdrop-filter: blur( 13.5px );
        -webkit-backdrop-filter: blur( 13.5px );
        border-radius: 10px;
        border: 1px solid rgba( 255, 255, 255, 0.18 );
        width: 400px;
        height: 500px;
        position: relative;
        top: -100px;
        padding: 10px;
    }
    #modal .title {
        padding-left: 10px;
        display: inline;
        text-shadow: 1px 1px 2px gray;
        color: white;
        
    }
    #modal .title h2 {
        display: inline;
    }
    #modal .close-area {
        display: inline;
        float: right;
        padding-right: 10px;
        cursor: pointer;
        text-shadow: 1px 1px 2px gray;
        color: white;
    }
    
    #modal .content {
        margin-top: 20px;
        padding: 0px 10px;
        text-shadow: 1px 1px 2px gray;
        color: white;
    }
</style>
<style>
	*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: sans-serif;
}
header{
	position : sticky;
	top : 0;
	z-index : 100;
}
nav{
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    
}
nav a{
    position: relative;
    margin: 0 20px;
    font-size:20pt;
	top : 10pt;
    color:white;
    text-decoration: none;
}
nav #underline{
    position: absolute;
    left: 0;
    height: 4px;
    width: 0;
    background: #000000;
    bottom: -9px;
    transition: 0.2s;
    border-radius: 5px;

}
	</style>


 
	</head>

<script>
	$(document).ready(function(){
		$('a').hover(function(){
			$(this).css('color','aquamarine');
			},	function(){
				$(this).css('color','white');
			
		});
	});
</script>

</head>

<body>
  


	<header>
    <div class = "title" style = "background-color: mediumaquamarine; width : 100%; height : 50pt ;">
        <div class = "logo" style = "width:10%; float : left " >
			<a href="http://127.0.0.1:8000/analysis/test_layout">
            <img src = "{% static 'images/logo2.png' %}" style = " width : 130pt;" /> 
			</a>
		</div>
				<nav style = " float : left">
					<!-- <div id="underline"></div> -->
					<a href="http://127.0.0.1:8000/analysis/new">대상등록</a>
					<a href="http://127.0.0.1:8000/analysis/report">일일보고</a>
					<a href="#">menu3</a>
					<a href="#">menu4</a>
					<a href="#">menu5</a>
					<a href="#">menu6</a>
				</nav>
			
       
		
    </div>
	
	<script type="text/javascript">
            var underline = document.querySelector('#underline');
            var item = document.querySelectorAll('nav a');
            function select(event){
                // console.log(event);
                underline.style.left = event.offsetLeft+"px";
                underline.style.width = event.offsetWidth+"px";
                // console.log(e.offsetLeft+"px");
               
            }
            item.forEach(link =>{
                link.addEventListener('click', (event)=>{
                    select(event.target);
                })
            })
    </script>

	</header>


    <div id="container">
        <h2>Lorem Ipsum</h2>
        <div id="lorem-ipsum"></div>
        <button role="button" id="btn-modal">
    <span class="ui-button-text">측정완료대상등록</span>
</button>
    </div>
    
    <div id="modal" class="modal-overlay">
        <div class="modal-window">
            <div class="title">
                <h2>모달</h2>
            </div>
            <div class="close-area">X</div>
            <div class="content">
                <p>가나다라마바사 아자차카타파하</p>
                <p>가나다라마바사 아자차카타파하</p>
                <p>가나다라마바사 아자차카타파하</p>
                <p>가나다라마바사 아자차카타파하</p>
                
            </div>
        </div>
    </div>

    <script type="text/javascript">
    const loremIpsum = document.getElementById("lorem-ipsum")
   
    const modal = document.getElementById("modal")
    function modalOn() {
        modal.style.display = "flex"
    }
    function isModalOn() {
        return modal.style.display === "flex"
    }
    function modalOff() {
        modal.style.display = "none"
    }
    const btnModal = document.getElementById("btn-modal")
    btnModal.addEventListener("click", e => {
        modalOn()
    })
    const closeBtn = modal.querySelector(".close-area")
    closeBtn.addEventListener("click", e => {
        modalOff()
    })
    modal.addEventListener("click", e => {
        const evTarget = e.target
        if(evTarget.classList.contains("modal-overlay")) {
            modalOff()
        }
    })
    window.addEventListener("keyup", e => {
        if(isModalOn() && e.key === "Escape") {
            modalOff()
        }
    })
    </script>
    
    
    <script>
    $(function(){

        $('.modal-overlay').draggable();
        
        });
    // 드래그 가능 불가능 설정
    // $(function(){

    //     $('#pop_stop_info_detial').draggable({'cancel':'.tbl'});

    // });
    // 화면밖으로 나가는것 방지
    // $(function(){

    //     $('#modal-overlay').draggable({'cancel':'.tbl', containment:'parent', scroll:false});

    // });
    </script>
</body>